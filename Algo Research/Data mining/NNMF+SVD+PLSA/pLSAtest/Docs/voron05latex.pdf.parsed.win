
LATEX2? в примерах? 'c К. В. Воронцов 16 декабря 2005 Аннотация Сборник примеров задуман как наглядное справочное пособие для тех, кто уже немного знаком с издательской системой LATEX. В отличие от объёмных классиче- ских руководств [1, 2], принципом сборника является не обстоятельность изложения, а наглядность и высокая плотность полезной информации. Содержание 1 Введение . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 2 Основные правила . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 3 Набор формул . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8 4 Набор текста . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24 5 Набор графики . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41 6 Таблицы символов . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44 7 Без примеров . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50 8 Шаблон статьи . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52 1 Введение TEX это издательская система, предназначенная для набора научно-технических текстов высокого полиграфического качества. LATEX один из наиболее популярных макропакетов на базе TEXа, существенно дополняющий его возможности. LATEX2? его последняя версия, которая по праву считается наиболее удачным расширением TEXа. MiKTEX это свободно распространяемая реализация TEX под Windows, включающая в себя практически все известные расширения. Создаваемые с помощью LATEXа тексты могут содержать математические формулы, таблицы и графические изображения. Поддерживается автоматическая нумерация стра- ниц, разделов, формул и пунктов перечней. Система сама генерирует оглавление, списки таблиц и иллюстраций, перекрёстные ссылки, сноски, колонтитулы и предметный ука- затель. Наконец, имеется возможность определять собственные макрокоманды и стили. Б?ольшая часть этих возможностей проиллюстрирована в предлагаемом сборнике. Список литературы [1] Львовский С. М. Набор и вёрстка в пакете LATEX. 3-е изд. М.: МЦНМО, 2003. [2] Кнут Д. Всё про TEX. М.: Издательский дом ?Вильямс?, 2003. ¤Титульная страница тоже пример, демонстрирующий структуру типичной статьи, см. стр. 52.
2 Цикл подготовки текста. В отличие от текстовых процессоров, основанных на принципе WYSIWYG (что видишь, то и получишь), TEX не показывает результат во время набора текста. Вводимый текст лишь в общих чертах напоминает будущий доку- мент, в действительности это только его описание на специальном языке. В классическом случае TEX вообще не имеет дружественного интерфейса. Исходный текст набирается в любом текстовом редакторе, способном сохранять файлы в формате ASCII. После того, как файл с описанием текста создан, его преобразуют с помощью компи- лятора TEXа в специальный dvi-файл (device independent), который можно просмотреть на экране или распечатать. Для исправления обнаруженных ошибок придётся вернуться к редактированию исходного tex-файла, затем заново его откомпилировать и просмот- реть. Окончательная доводка текста требует многократного повторения этого цикла. К счастью, в MiKTEX есть возможность сразу показать именно то место, где в редакто- ре стоит курсор, и, наоборот, ткнув в любое место страницы, перейти к редактированию исходного текста. В последних версиях есть возможность скомпилировать и показать вы- деленный фрагмент исходного теста. Отчасти это компенсирует отсутствие WYSIWYG. Статья на русском языке в формате LATEX обычно начинается со строк \documentclass[12pt]{article} \usepackage[cp1251]{inputenc} \usepackage[russian]{babel} \begin{document} Первая строка устанавливает, что документ относится к классу статей и задает основной размер шрифта 12 пунктов. Вместо article можно задавать другие стандартные классы: report для отчётов и диссертаций, book для книг или letter для писем. Вторая строка указывает, что исходный текст набирается в кодировке Windows. Третья строка говорит, что основным языком статьи является русский. Текст обязан заканчиваться строкой \end{document} Шаблон tex-файла типичной статьи находится на стр. 52. Пакеты расширения, подключаемые командой usepackage, дополняют функцио- нальные возможности LATEXа. Пакет это специальная разновидность tex-файла с рас- ширением cls или sty, который может находиться либо в текущем каталоге, либо в ка- талогах самого TEXа. Имя пакета указывается в фигурных скобках. Пакеты состоят из команд TEXа, но не генерируют никакого печатного текста. Обычно в них устанавлива- ются общие параметры документа и определяются новые макрокоманды. Один и тот же пакет можно включать в разные тексты. Абзацы отделяются друг от друга пустой строкой. Любое количество пустых строк эквивалентны одной. Любое количество пробелов и символов табуляции, следующих друг за другом, а также конец строки, считаются за один пробел. Форматирование ис- ходного файла игнорируется TEXом, автор может расставлять пробельные символы по собственному усмотрению. Разбиение абзаца на строки, выравнивание текста и переносы в словах делаются автоматически. В примере 1 целиком приведён простейший LATEX- файл. Команды используются в тех случаях, когда надо изменить оформление текста, вставить необычный символ, открыть новый раздел и т.п. Команда начинается с обрат- ной косой черты \, за которой следует имя команды. Именем может быть либо после- довательность латинских букв (прописные и строчные различаются), либо один символ,
3 не являющийся буквой или цифрой. Последовательности \: и \dots это команды. Некоторые русификации позволяют определять команды на русском языке, например \вразрядку, однако стандартный пакет babel такой возможности не поддерживает. В TEXе предусмотрены также команды с аргументами. Аргументом может быть либо один символ, либо группа. Группой называется фрагмент текста, заключённый в фигурные скобки { }. Внутри группы могут содержаться другие группы и команды, см. пример 6. Изменения различных параметров, сделанные внутри группы, ?забывают- ся? сразу же после закрывающей фигурной скобки. В примере 6 после {\bf жирное} был автоматически восстановлен стандартный шрифт. В LATEXе команды могут иметь ещё и необязательные аргументы. В отличие от обязательных, они заключаются в квадратные скобки [ ], см. пример 47. Если команда не имеет аргументов, то сразу за её именем обязан идти символ, не яв- ляющийся буквой. Чтобы TEX смог понять, где кончается имя команды и начинается печатаемый текст, между ними ставят пробел, причём этот пробел не будет выведен на печать. Чтобы напечатать пробел сразу после команды, не имеющей аргументов, исполь- зуют команду обязательного пробела \ , см. пример 7. Формулы в TEXе делятся на два вида: формулы внутри текста и выключные, т. е. вынесенные в отдельную строку. TEX автоматически ?сжимает? внутритекстовые формулы так, чтобы они заняли как можно меньше места по высоте, см. пример 46. Внутритекстовые формулы окружаются с обеих сторон знаками $. Выключные форму- лы окружаются знаками $$ или парой команд \[ и \]. Преимущество второго способа в том, что он позволяет одной стилевой опцией во всём документе прижать выключные формулы влево. Формулы, заключённые между $$ и $$, всегда центрированы. Формулы нельзя разрывать пустой строкой. Окружение это фрагмент текста, заключённый между командами \begin{env} и \end{env}, где env имя окружения. Окружение указывает, что к данному фрагмен- ту текста необходимо применить некоторый специальный тип оформления. Например, окружение с именем equation это автоматически нумеруемая выключная формула (пример 99), enumerate пронумерованный перечень (пример 148), document весь документ (пример 1). Разумное форматирование исходного текста делает его более понятным и упро- щает процесс редактирования. Хотя вопросы удобства индивидуальны и являются делом вкуса, автор рискнёт привести здесь минимальный набор своих рекомендаций. : Новое предложение всегда начинается с новой строки. Лучше избегать слишком длинных строк не во всех редакторах их удобно просматривать. : Команды \begin, \end, \[, \], \section и её аналоги (см. пример 176), \item, \par, \newpage, \label набираются отдельной строкой. : Внутритекстовые формулы, за исключением самых коротких, набираются отдель- ной строкой. : Описания длинных формул напоминают скорее программу, чем текст. Форматиро- вание с табуляцией облегчает их понимание, см. примеры 53, 57, 88 и др.
4 2 Основные правила 1. Простейший LATEX-файл. Абзацы отделяются друг от друга пу- стой строкой. Пробелы можно ставить как угодно, это не влияет на результат. \documentclass[12pt]{article} \usepackage[russian]{babel} \begin{document} Абзацы отделяются друг от друга пустой строкой. Пробелы можно ставить как угодно, это не влияет на результат. \end{document} 2. Эти и только эти символы отображаются один к одному. A B C D ... Z a b c d ... z А Б В Г ... Я а б в г ... я 0 1 2 3 4 5 6 7 8 9 , . ; : @| ? ! ( ) [ ] < > - + * = /' ' " A B C D ... Z a b c d ... z А Б В Г ... Я а б в г ... я 0 1 2 3 4 5 6 7 8 9 , . ; : @| ? ! ( ) [ ] < > - + * = /' ' " 3. Символы, которые можно напечатать, поставив перед ними \. { } $ & # % _ \{ \} \$ \& \# \% \_ 4. Символы, которые нельзя обычным способом отобразить в тексте. См. пример 181 и таб- лицы символов, стр. 44. ^ \ ~ 5. Комментарии заключаются между знаком % и концом строки. Комментарий может разбивать слова Коммента% глупый пример рий может разбивать слова 6. Примеры команд: \bf без аргументов, \fbox с одним аргументом. Аргумент команды это частный случай группы {...}. Не всё то жирное , что в рамке Не \fbox{всё то {\bf жирное}}, что в рамке 7. Команда \  (обязательный пробел) позволяет вывести пробел сразу после команды без ар- гументов. Пишу про TEX на TEXе. Пишу про \TeX\ на \TeX е. 8. Выключные и внутритекстовые формулы. Если c = 0, то прямая, задаваемая уравнением ax + by + c = 0, проходит через точку (0, 0). Если $c=0$, то прямая, задаваемая уравнением \[ ax+by+c=0, \] проходит через точку~$(0,0)$.
5 9. Пример окружения: quote для оформления длинных цитат. Окружения заключаются в ?командные скобки? \begin и \end. Пустая строка после окружений и выключных формул начинает новый абзац. Если пустой строки нет, то абзац продолжается. Создатель TEXа Дональд Кнут выска- зал спорное мнение, что Символ ?? A заставит любого ма- тематика визжать в экстазе. Впрочем, в русских изданиях такое оформ- ление цитат не принято. Создатель \TeX а Дональд Кнут высказал спорное мнение, что \begin{quote} Символ $\hat{\hat A}$ заставит любого математика визжать в экстазе. \end{quote} Впрочем, в~русских изданиях такое оформление цитат не~принято. 2.1 Особенности профессиональной полиграфии 10. Скобки всех видов набираются вплотную к тексту, который они окружают. Верно: (текст) [текст] {текст} hтекстi Неверно: ( текст ) [ текст ] Верно: (текст) [текст] \{текст\} $\langle$текст$\rangle$ Неверно: ( текст ) [ текст ] 11. Знаки препинания набираются слитно с предшествующим текстом и отдельно от по- следующего. тт. тт, тт; тт: тт! тт? тт% тт. . . Неверно: ноль , один ,два . тт. тт, тт; тт: тт! тт? тт\% тт\dots Неверно: ноль , один ,два . 12. Знаки № и : набираются слитно с последующим текстом. Верно: №12 №№12-14 :12 ::12-14 Неверно: № 12 : 12 Верно: \No12 \No\No12--14 \S12 \S\S12--14 Неверно: \No~12 \S~12 13. Дефис, длинное тире (em-dash), короткое тире (en-dash) и минус это совершенно разные знаки. См. также примеры 21 и 168. дефисы в словах: из-за ?-функции диапазоны чисел: страницы 3-7 тире в предложениях: Это тире. минусы в формулах: ?f(?x) = f(x) дефисы в~словах: из-за $\delta$-функции диапазоны чисел: страницы~3--7 тире в~предложениях: Это~--- тире. минусы в~формулах: $-f(-x)=f(x)$ 14. Многоточие в тексте и формулах набирают не тремя точками, а командой \dots. Верно: подумал. . . и сказал Верно: i = 1, 2, . . . , n. Неверно: подумал... и сказал Неверно: i = 1, 2, ..., n. Верно: подумал\dots и сказал Верно: $i=1,2,\dots,n$. Неверно: подумал... и сказал Неверно: $i=1,2,...,n$. 15. При переносах на другую строку предлоги не должны отрываться от следующего слова. Тире не отрывается от предыдущего слова. Для этого используется жёсткий пробел ~. В начале предложения и не только. Это тире. В~начале предложения и~не~только. Это~--- тире.
6 16. Жёсткий пробел ~ связывает слова скорее по смыслу, чем по формальным правилам. строка s длиной l строка s длиной l и выше число n равно 15 или 16 число n в 15 раз больше строка~$s$ длиной~$l$ строка~$s$ длиной $l$~и~выше число~$n$ равно~15 или~16 число~$n$ в 15~раз больше 17. Сокращения и инициалы. Верно: И. И. Иванов, и т. д., т. е., и др. Лучше: И.И.Иванов, и т. д., т. е. Неверно: И.И. Иванов Неверно: И.И.Иванов Верно: И.~И.~Иванов, и~т.~д., т.~е., и~др. Лучше: И.\,И.\,Иванов, и~т.\,д., т.\,е. Неверно: И.И.~Иванов Неверно: И.И.Иванов 18. Корректирующий пробел \/на стыке курсива и прямого шрифта. Команды переключе- ния шрифта \itshape, \em, \it требуют коррекции. Команды с аргументом \textit, \emph делают коррекцию автоматически. Несимметричность неверно Несимметричность верно Несимметричность верно Несимметричность уже лишнее {\itshape Не}симметричность --- неверно {\itshape Не\/}симметричность --- верно \textit{Не}симметричность --- верно \textit{Не\/}симметричность --- уже лишнее 2.2 Особенности русской полиграфии 19. Форма кавычек отличается во французской, немецкой и английской традициях. Но в лю- бом случае открывающие и закрывающие кавычки должны быть разными. В русских изданиях в основном используются французские, реже немецкие кавычки. Французские ?ёлочки? Немецкие "лапки или 99-66" Английские "лапки или 66-99" Неверно: "нигде так не принято" Неверно: "и так тоже никто не делает" Неверно: "а это вообще не кавычки" Французские <<ёлочки>> Немецкие ,,лапки или 99--66'' Английские ''лапки или 66--99'' Неверно: ,,нигде так не принято'' Неверно: ''и так тоже никто не делает'' Неверно: "а это вообще не кавычки" 20. Допускаются вложенные кавычки. ?При вложении "ёлочки" используют- ся в качестве внешних кавычек? <<При вложении ,,ёлочки'' используются в~качестве внешних кавычек>> 21. Ещё три разновидности длинного тире для русских изданий. Требуется подключение па- кета \usepackage[russian]{babel}. В текстерусское тире. В тексте сравните пробелы! В составных словах: ГрамаШмидта Верно: Прямая речь в начале абзаца требует нерастяжимого пробела после тире Неверно: Прямая речь в начале абзаца требует нерастяжимого пробела после тире В~тексте "--- русское тире. В~тексте~--- сравните пробелы! В~составных словах: Грама"--~Шмидта Верно: "--* Прямая речь в~начале абзаца требует нерастяжимого пробела после тире Неверно: --- Прямая речь в~начале абзаца требует нерастяжимого пробела после тире
7 22. Некоторые российские издательства требуют выделять тексты определений и теорем вразрядку. Для этого подключается пакет \usepackage{soul}. Эта традиция устарела, так как про- исходит от п и ш у щ е й м а ш и н к и. Эта традиция устарела, так как происходит от \so{пишущей машинки}. 23. Основные отличия русского математического набора от англоязычного. a 6 b вместо a ? b a > b вместо a ? b ? вместо ? греческая ? вместо ? греческая ? вместо o греческая ? вместо ? $a\leqslant b$ вместо $a\leq b$ $a\geqslant b$ вместо $a\geq b$ $\varnothing$ вместо $\emptyset$ греческая $\varkappa$ вместо $\kappa$ греческая $\varepsilon$ вместо $\epsilon$ греческая $\varphi$ вместо $\phi$ 24. Названия математических функций, принятые в русских изданиях, становятся доступ- ны при подключении пакета \usepackage[russian]{babel}. tg x вместо tan x ctg x вместо cot x cosec x вместо csc x arctg x вместо arctan x sh x вместо sinh x ch x вместо cosh x th x вместо tanh x cth x вместо coth x Im z вместо ?z Re z вместо ?z $\tg x$ вместо $\tan x$ $\ctg x$ вместо $\cot x$ $\cosec x$ вместо $\csc x$ $\arctg x$ вместо $\arctan x$ $\sh x$ вместо $\sinh x$ $\ch x$ вместо $\cosh x$ $\th x$ вместо $\tanh x$ $\cth x$ вместо $\coth x$ $\mathop{\text{Im}}z$ вместо $\Im z$ $\mathop{\text{Re}}z$ вместо $\Re z$ 25. Обозначения для теории вероятностей, принятые в русских изданиях, также опреде- ляются в пакете babel. Дополнительные обозначения можно вводить и самостоятельно, с помощью команды \newcommand. Вероятность P(A) Дисперсия D(A) Матожидание по-английски E(A) Матожидание по-русски M(A) Вероятность $\Prob (A)$ Дисперсия $\Variance (A)$ \newcommand{\Expect}{\mathsf{E}} \newcommand{\MExpect}{\mathsf{M}} Матожидание по-английски $\Expect (A)$ Матожидание по-русски $\MExpect (A)$
8 3 Набор формул 26. Расстановка пробелов не влияет на внешний вид формулы. Коммутативность: x + y = y + x Коммутативность: x + y = y + x Коммутативность: $x+y=y+x$ Коммутативность: $ x + y = y + x $ 3.1 Символы и шрифты 27. Греческие буквы. Полный перечень см. 211 и 212, стр. 44. ?,A, ?,- $\alpha,{\rm A},\omega,\Omega$ 28. Выделенные, прописные, некурсивные буквы, греческий курсив. пространство Pn преобразование Km[f] матожидание M?i грамматика LR(k) совокупность :0 пространство $\mathbf{P}^n$ преобразование $\mathcal{K}_m[f]$ матожидание $\mathsf{M} \xi_i$ грамматика $\mathrm{LR}(k)$ совокупность $\mathit{\Sigma}_0$ 29. Стандартный рукописный шрифт TEXа не привычен для русской традиции. ABCDEFGHIJKLM NOPQRST UVWXYZ $\mathcal{ABCDEFGHIJKLM}$ $\mathcal{NOPQRSTUVWXYZ}$ 30. Шрифт, доступный при подключении пакета \usepackage{mathrsfs}. A BCDEFGH IJK LM N OPQRST U V W X Y Z Э.Д.С. = E $\mathscr{ABCDEFGHIJKLM}$ $\mathscr{NOPQRSTUVWXYZ}$ $\text{Э.Д.С.} = \mathscr{E}$ 31. Шрифты, доступные при подключении пакета \usepackage{amssymb}. ABCDEFGHIJKLM NOPQRSTUVWXYZ ABCDEFGHIJKLM NOPQRSTUVWXYZ abcdefghijklm nopqrstuvwxyz 0123456789 $\mathbb{ABCDEFGHIJKLM}$ $\mathbb{NOPQRSTUVWXYZ}$ $\mathfrak{ABCDEFGHIJKLM}$ $\mathfrak{NOPQRSTUVWXYZ}$ $\mathfrak{abcdefghijklm}$ $\mathfrak{nopqrstuvwxyz}$ $\mathfrak{0123456789}$ 32. Разновидности многоточий. Команда \dots сама подстраивается под контекст. 1, . . . , n 1 + - - - + n американская традиция 1 + . . . + n русская традиция A- - - P $1,\dots,n$ $1+\dots+n$ --- американская традиция $1+\ldots+n$ --- русская традиция $A \cdots P$ 3.2 Индексы, надстрочные и подстрочные знаки 33. Верхние и нижние индексы, состоящие из одного символа. Сумма ci + bk + aik + aik, множества M+j и M?j , тензор aijk. Сумма $c^i + b_k + a^i_k + a_k^i$, множества~$M^+_j$ и~$M_j^-$, тензор~$a^i{}_j{}^k$.
9 34. Индекс, состоящий из нескольких символов, должен быть группой. a2k+1 a2k+1 a2k + 1 $a^{2^{k+1}}$ $a^{2k+1}$ $a^2k+1$ 35. Штрихи и производные. A'2 = A'2 A'' 2 = A'' 2 (fg)'' = f''g + 2f'g' + fg'' f', f'', f''', f(IV ), . . . , f(n) $A_2' = A_2^\prime$ $A_2" = A_2^{\prime\prime}$ $(fg)" = f"g + 2f'g' + fg"$ $f', f", f"', f^{(IV)}, \dots, f^{(n)}$ 36. Мелкие надстрочные знаки. См. 209 и 210, стр. 44. ~a, ?a, ?a, ?a, ?a ?a, ... a , .... a ,??a $\vec a, \bar a, \hat a, \tilde a, \dot a$ $\ddot a,\dddot a,\ddddot a,\ddot{\ddot a}$ 37. Двойные акценты (требуется подключение пакета \usepackage{amsmath}). ?~X, ??X, ??X$\dot{\vec X},\bar{\bar X},\hat{\tilde X}$ 38. Надстрочные знаки и подчёркивания неограниченной длины. ABC . . . P ???????> A??B??C?.?.?.>P ABC . . . P <??????? A<?B?C??.?. .?P? ABC . . . P <??????> A<?B?C??.?.?.>P M = 1,m сравните: w(f) и w(f) $\underrightarrow{ABC\dots P}$ $\overrightarrow{ABC\dots P}$ $\underleftarrow{ABC\dots P}$ $\overleftarrow{ABC\dots P}$ $\underleftrightarrow{ABC\dots P}$ $\overleftrightarrow{ABC\dots P}$ $M =\overline{1,m}$ сравните: $\underline{w}(f)$ и $\underline{w\mathstrut}(f)$ 39. Надстрочные знаки переменной, но ограниченной длины. bx,dxyz, \xyzxyz ex,gxyz, ^xyzxyz $\widehat{x}, \widehat{xyz}, \widehat{xyzxyz}$ $\widetilde{x}, \widetilde{xyz}, \widetilde{xyzxyz}$ 40. Фигурная скобка под формулой. 1 + 3 + - - - + (2n ? 1) | {z } n $\underbrace{1 + 3 + \dots + (2n-1)}_n$ 41. Фигурные скобки и под, и над формулой. 10 z }| { |012 . . . 9{zAB. . . F} 16 $\underbrace{ \overbrace{0 1 2 \dots 9}^{10} \rm A B \dots F }_{16}$
10 42. Перекрытие фигурных скобок требует преодоления TEXнических трудностей, поскольку группы не могут перекрываться. Команда \phantom производит невидимую формулу, над ко- торой рисуется скобка. Команда \lefteqn притворяется, что эта формула не занимает ме- ста по ширине. | {z } a1 + - - - + z }| { ai + aj + - - - + an $\lefteqn{\underbrace{ \phantom{a_1+\dots+a_i+a_j}}} a_1+\dots+\overbrace{a_i+a_j+\dots+a_n} $ 43. Рамки для выделения особо важных результатов. E = mc2 E = mc2 \[ \boxed{E=mc^2} \qquad \boxed{\boxed{E=mc^2}} \] 3.3 Стили формул 44. Различие в оформлении включённых и выключных формул. lim n>?Xn k=1 1 k2 = ?2 6 Формулы внутри текста, такие как limn>?Pnk=1 1 k2 = ?2 6 , занимают меньше места по высоте. \[ \lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6} \] Формулы внутри текста, такие как $ \lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6} $, занимают меньше места по~высоте. 45. Согласно русской традиции пределы у lim и P принято записывать снизу и сверху даже во включённых формулах. Наметилась тенденция к использованию записи Pnk=1. Формулы внутри текста, такие как lim n>? Pn k=1 1 k2 = ?2 6 , занимают чуть больше места по высоте. Формулы внутри текста, такие как $ \lim\limits_{n \to \infty} \sum\limits_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6} $, занимают чуть больше места по~высоте. 46. Четыре команды для явного задания стиля оформления формул. Выключной 12 Z dF Текстовый 12 R dF Индексный 12 R dF Подиндексный 12 R dF Выключной $\displaystyle \frac12\int dF$ Текстовый $\textstyle \frac12\int dF$ Индексный $\scriptstyle \frac12\int dF$ Подиндексный $\scriptscriptstyle \frac12\int dF$
11 3.4 Радикалы и дроби 47. Радикалы. vx + v3 x + y \[ \sqrt{x} + \sqrt[3]{x+y} \] 48. Чтобы выровнять радикалы по высоте, вставляют невидимую распорку \mathstrut. Неверно: vd + vy Верно: pd +py Неверно: $\sqrt{d} + \sqrt{y}$ Верно: $\sqrt{d\mathstrut} + \sqrt{y\mathstrut}$ 49. Дроби. x2 + 1 1 + x + 1 + x 2 + 1 + x 1 ? x \[ \frac x2 + \frac1{1+x} + \frac{1+x}2 + \frac{1+x}{1-x} \] 50. Дополнительные команды пакета amsmath для явной установки стиля дробей. x 1+x = x 1 + x = x 1+x x 1 + x = x 1 + x = x 1+x $ \frac x{1+x}=\dfrac x{1+x}=\tfrac x{1+x} $\[\frac x{1+x}=\dfrac x{1+x}=\tfrac x{1+x} \] 51. Команды пакета amsmath для биномиальных коэффициентов, аналогичные дробям. Ckn = !nk? = unk
 = !nk? Ckn = unk
 = unk
 = !nk? $ C_n^k=\binom nk=\dbinom nk=\tbinom nk $\[ C_n^k=\binom nk=\dbinom nk=\tbinom nk \] 52. Общая команда для дробей, биномиальных коэффициентов и аналогичных конструкций. Шесть аргументов команды \genfrak: левая скобка, правая скобка, толщина дробной черты, номер стиля от 0 до 4 (см. пример 46), числитель, знаменатель. -1 + x 1 ? x? = !1+x 1?x? = h1+x 1?xi = 1+x 1?x \[ \genfrac{[}{]}{1pt}{0}{1+x}{1-x} = \genfrac{(}{)}{}{1}{1+x}{1-x} = \genfrac{<}{>}{}{2}{1+x}{1-x} = \genfrac{}{}{}{3}{1+x}{1-x} \]
12 53. Цепные дроби. Команда \cfrac подавляет автоматическое изменение стиля в дробях. 7 25 = 1 3 + 1 1+ 1 1+13 неверно 7 25 = 1 3 + 1 1 + 1 1 + 13 верно \[ \frac{7}{25} = \frac{1}{ 3+\frac{1}{ 1+\frac{1}{ 1+\frac{1}{3}}}} \quad\text{--- неверно} \] \[ \frac{7}{25} = \cfrac{1}{ 3+\cfrac{1}{ 1+\cfrac{1}{ 1+\cfrac{1}{3}}}} \quad\text{--- верно} \] 3.5 Скобки различного размера и начертания 54. ОШИБКА неверный размер скобок. 1 + ( 1 1 + x) \[ 1 + (\frac1{1+x}) \] 55. Автоматическая установка правильного размера скобок. Команды \left и \right упо- требляются только в паре. 1 + u 1 1 + x
 \[ 1 + \left( \frac1{1+x} \right) \] 56. Фиктивная скобка \left. позволяет вывести вертикальную черту нужной высоты. xn+1 n + 1???? ba \[ \left. \frac{x^{n+1}}{n+1} \right|_a^b \] 57. Вложенные скобки различного размера и формы. См. 227, стр. 48. A-n'' hxi''o?! \[ \Biggl( \biggl[ \Bigl\{ \bigl\| \langle x \rangle \bigr\| \Bigr\} \biggr] \Biggr) \]
13 58. Случаи, когда размер скобок приходится задавать явно. Имеется полный набор команд \Biggm, \biggm, \Bigm, \bigm для ?средней? скобки. nC ???[4 p=0 Ipe > Ifo cf(x) ??x ? {1, 2, . . . , n}? \[ \Bigl\{ C \Bigm| \bigcup_{p=0}^4 I_e^p \to I_f \Bigr\} \] \[ \bigl\{ f(x) \bigm| x \in \{1,2,\dots,n\} \bigl\} \] 59. Имеется также полный набор команд \Bigg, \bigg, \Big, \big для одиночной скобки. x + 1 x A y y + 1 \[ \frac{x+1}x \bigg/\frac{y}{y+1} \] 60. Ещё один случай, когда необходима явная установка размера скобок. ?? |x| ? |y|??$\bigl| |x|-|y| \bigr|$ 3.6 Тонкости с пробелами и промежутками 61. Многозначные числа, содержащие более 4 знаков, разбивают по 3 знака справа налево. 123 456 789 123\,456\,789 62. Если запятая не знак препинания, её выделяют в группу. ? = 3, 14 неверно ? = 3,14 верно ? = 3.14 верно $\pi=3,14$~--- неверно $\pi=3{,}14$~--- верно $\pi=3.14$~--- верно 63. Различные способы ввести в выключную формулу текст. x > 0 для всех x x > 0 для всех x x > 0 для всех x \[ x>0 \text{ для всех $x$} \] \[ x>0 \quad \text{для всех $x$} \] \[ x>0 \qquad\text{для всех $x$} \] 64. Способы явного задания промежутков в математических формулах. 00 00 00 00 0 0 0 0 0 0 0 0 0 0 0 0 $0\negthickspace 0$ $0\negmedspace 0$ $0\! 0$ синоним \negthinspace $0 0$ $0\, 0$ синоним \thinspace $0\: 0$ синоним \medspace $0\; 0$ синоним \thickspace $0\quad 0$ синоним \mspace{18mu} $0\qquad 0$ синоним \mspace{36mu} $0\mspace{72mu} 0$
14 65. Когда необходим тонкий пробел (команда \,). Для сравнения под каждым правильным вариантом показан неправильный. v2 x vln x v2x vln x [ 0, 1) ln n (ln n)2 [0, 1) ln n(ln n)2 O(vn ) 12! n! O(vn) 12!n! $\sqrt2\,x$ $\sqrt{\,\ln x}$ $\sqrt2x$ $\sqrt{\ln x}$ $[\,0,1)$ $\ln n\,(\ln n)^2$ $[0,1)$ $\ln n (\ln n)^2$ $O(\sqrt n\,)$ $12!\,n!$ $O(\sqrt n)$ $12!n!$ 66. Когда необходим отрицательный тонкий пробел (команда \!). Для сравнения под каждым правильным вариантом показан неправильный. x2/2 Rijkn x2/2 Rijkn n/ln n R R dF(x, y) n/ln n R R dF(x, y) ?2 !2 ?2 !2 $x^2\!/2$ $R_i{}^j{}_{\!kn}$ $x^2/2$ $R_i{}^j{}_{kn}$ $n/\!\ln n$ $\int\!\int dF(x,y)$ $n/\ln n$ $\int\int dF(x,y)$ $\Delta^{\!2}$ $\Gamma_{\!2}$ $\Delta^2$ $\Gamma_2$ 67. Конструирование нового типа скобок путём наложения символов. [A|B] $\mathopen{[\![} A|B \mathclose{]\!]}$ 68. Не следует путать отношение параллельности и скобку вида k, а также пытаться ис- пользовать пару символов || для их получения. ABkCD неверно AB||CD неверно AB k CD верно ||aij || неверно kaijk верно $AB \| CD$ --- неверно $AB || CD$ --- неверно $AB \parallel CD$ --- {\bf верно} $||a_{ij}||$ --- неверно $\|a_{ij}\|$ --- {\bf верно} 69. Следует отличать бинарную операцию : и двоеточие. {C : Ipe > If } верно {C : Ipe > If } неверно $\{C\colon I^p_e \to I_f\}$ --- верно $\{C : I^p_e \to I_f\}$ --- неверно 3.7 Функции, операции и операторы 70. Элементарные функции это команды TEXа. См. 218, стр. 46. sin2 x + cos2 x = 1 \[ \sin^2x + \cos^2x = 1 \] 71. Три варианта обозначений для операции сравнения по модулю. 57 ? 1 (mod 8) 57 ? 1 mod 8 57 ? 1 (8) $57\equiv 1\pmod{8}$ $57\equiv 1\mod{8}$ $57\equiv 1\pod{8}$
15 72. Обозначение mod имеет два совершенно различных смысла и оформляется с разными про- белами. Сравнение: 57 ? 1 mod 8 Бинарная операция: f mod G Сравнение: $57\equiv 1\mod{8}$ Бинарная операция: $f\bmod G$ 73. Математические операторы типа lim и max. См. 216, стр. 45. max i lim x>0 fi(x) \[ \max_i \lim_{x \to 0} f_i(x) \] 74. Создание нового оператора типа \lim. avr i?I xi = 1 |I|Xi?I xi \def\MYavr{\mathop{\rm avr}\limits} \[ \MYavr_{i\in I}x_i = \frac1{|I|}\sum_{i\in I}x_i \] 75. Большие операторы типа суммирования. См. 215, стр. 45. Xn i=1 Aixi Xni=1 Aixi \[ \sum_{i=1}^n A_i x_i \quad \sum\nolimits_{i=1}^n A_i x_i \] 76. Создание нового большого оператора ?сигма-штрих?. Xn ' i=1 ?ixi \def\MYsum{\mathop{ \lefteqn{\sum\nolimits^\prime}{\sum} }} \[ \MYsum_{i=1}^n \alpha_i x_i \] 77. В русской традиции пределы интегрирования принято записывать сверху и снизу. Z b a xn dx неверно Zb a xn dx верно \[ \int_a^b x^n\,dx \qquad \int\limits_a^b x^n\,dx \] 78. Для кратных интегралов (вплоть до 4-й кратности) имеются специальные команды. ZZ X f(x) dx ZZZ X f(x) dx ZZZZ X f(x) dx Z Z f(x) dx неверно Z - - - Z X f(x) dx \[ \iint\limits_X f(x)\,dx \iiint\limits_X f(x)\,dx \iiiint\limits_X f(x)\,dx \] \[ \int\int f(x)\,dx \text{ --- неверно} \] \[ \idotsint\limits_X f(x)\,dx \] 79. Бинарные отношения. См. 222 и 225, стр. 47. 0 = x0 < x ? x1 6= 1 $ 0=x_0<x\le x_1 \ne 1 $
16 80. Создание нового отношения \MYdef. df def = f(x + dx) ? f(x) \def\MYdef{\mathrel{\stackrel{\rm def}=}} $ df\MYdef f(x+dx)-f(x) $ 81. Бинарные операции. См. 220. D = X ? Y ? Z $ D=X\times Y\otimes Z $ 82. Создание новой бинарной операции \MYtimes. D = X ? Y ??Z \def\MYtimes{\mathbin{\hat{\otimes}}} $ D=X \times Y \MYtimes Z $ 3.8 Формулы над формулами 83. Помещение символов меньшего размера над и под формулой. ? X X? ?Xi i=1 \[ \overset{*}{X} \qquad \underset{*}{X} \qquad \underset{i=1}{\overset{\infty}{X_i}} \] 84. Помещение символов меньшего размера со всех сторон большого оператора. 21Y43 k \[ \sideset{_1^2}{_3^4} \prod_k \] 85. Команда \substack создаёт ?многоэтажные? индексы. X n1,n2,...,nr n1+n2+---+nr=n n1,n2,...,nr>0 n! n1! n2! . . . nr! \[ \sum_{\substack{ n_1, n_2, \dots, n_r \\ n_1 + n_2 + \dots + n_r = n \\ n_1, n_2, \dots, n_r > 0 }} \frac{n!}{n_1!\,n_2!\dots n_r!} \] 86. Растяжимые стрелки с надписями. X A=C*B ????????> B?M0,C?M1 Y Y A=C*B <????? X $X \xrightarrow [B\in\mathfrak{M}^0,C\in\mathfrak{M}^1] {A = C\circ B} Y$ $Y \xleftarrow{A = C\circ B} X$ 87. Выбор альтернатив. ?(x) = (0, если x < 0; 1, если x > 0. \[ \theta(x) = \begin{cases} 0, & \text{если $x<0$;} \\ 1, & \text{если $x\geqslant 0$.} \end{cases} \]
17 88. Окружение aligned выравнивает строки относительно одной вертикальной линии, от- мечаемой знаком & в каждой строке. A + B = B + A AB = BA A(B + C) = AB + AC??? ???A,B,C \[ \left. \begin{aligned} A+B &= B+A \\ AB &= BA \\ A(B+C) &= AB+AC \end{aligned} \right\} \forall A,B,C \] 3.9 Матрицы 89. Матрицы с различными типами окружающих скобок. 1 0 0 1 u1 0 0 1
 -1 0 0 1? ????1 0 0 1???? ''''1 0 0 1'''' \[ \begin{matrix} 1 & 0 \\ 0 & 1 \end{matrix} \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix} \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix} \begin{vmatrix} 1 & 0 \\ 0 & 1 \end{vmatrix} \begin{Vmatrix} 1 & 0 \\ 0 & 1 \end{Vmatrix} \] 90. Матрица с многоточиями. ??? a11 . . . a1n .... . . ... am1 . . . amn??? \[ \begin{pmatrix} a_{11} & \dots & a_{1n} \\ \vdots & \ddots & \vdots \\ a_{m1} & \dots & a_{mn} \end{pmatrix} \] 91. Матрица с отточием. ??a11 . . . a1n . . . . . . . . . . . . . . am1 . . . amn?? \[ \begin{pmatrix} a_{11} & \dots & a_{1n} \\ \hdotsfor{3} \\ a_{m1} & \dots & a_{mn} \end{pmatrix} \] 92. Матрица с метками строк и столбцов. ?????? j b11 . . . 0 b1n . . . . . . 0 . . . i 0 0 1 0 . . . . . . 0 . . . bm1 . . . 0 bmn?????? \[ \bordermatrix{ & & & j & \cr & b_{11} & \dots & 0 & b_{1n} \cr & \dots & \dots & 0 & \dots \cr i & 0 & 0 & 1 & 0 \cr & \dots & \dots & 0 & \dots \cr & b_{m1} & \dots & 0 & b_{mn} \cr} \]
18 93. По умолчанию в матрицах не может быть больше 10 столбцов. Максимальное допусти- мое число столбцов хранится в счётчике MaxMatrixCols, и его можно изменить. 1 1 1 1 2 1 1 3 3 1 1 4 6 4 1 1 5 10 10 5 1 \[ \setcounter{MaxMatrixCols}{15} \begin{matrix} &&&&& 1\\ &&&& 1 && 1\\ &&& 1 && 2 && 1\\ && 1 && 3 && 3 && 1\\ & 1 && 4 && 6 && 4 && 1\\ 1 && 5 && 10 && 10 && 5 && 1\\ \end{matrix} \] 94. Окружение smallmatrix позволяет набирать маленькие матрицы и перестановки, вклю- чённые в строку текста. Матрица 3 1 3 2 4 3 f(x) 1 2 ? Матрица $\left( \begin{smallmatrix} 1 & 3 & 2 & 4\\ 3 & f(x) & 1 & 2 \end{smallmatrix} \right)$ 3.10 Коммутативные диаграммы 95. Простые коммутативные диаграммы без диагональных стрелок в пакете amscd. Команды @>>>, @<<<, @VVV, @AAA, рисующие стрелки, могут разрываться надписями. X A ????> Y B1,...,Bp??y x? ?C Rp ???????> F(B1,...,Bp) R \[ \begin{CD} X @>A>> Y \\ @V{B_1,\dots,B_p}VV @AA{C}A \\ R^p @>>{F(B_1,\dots,B_p)}> R \end{CD}\] 96. Тот же пример с использованием более мощного пакета pb-diagram. X Y Rp R A - ? B1,...,Bp - F(B1,...,Bp) 6C \[ \begin{diagram} \node{\boxed{X}} \arrow[2]{e,t}{A} \arrow{s,l}{B_1,\dots,B_p} \node[2]{Y} \\ \node{R^p} \arrow[2]{e,b}{F(B_1,\dots,B_p)} \node[2]{R} \arrow{n,r}{C} \end{diagram}\] 97. Пакет pb-diagram, в отличие от amscd, позволяет рисовать наклонные стрелки. X Y R A - @B @R !!uC \[ \begin{diagram} \node{X} \arrow[2]{e,t}{A} \arrow{se,b}{B} \node[2]{Y} \\ \node[2]{R} \arrow{ne,r}{C} \end{diagram}\]
19 98. Направления стрелок кодируются буквами n, e, w, s; положение надписи буквами t, b, l, r. Необязательный аргумент [k] удлиняет стрелку в k раз. Node n;l 6 ?w;b e;t - ? s;r XXXXXXXXXz ese;r \[\begin{diagram} \node{Node} \arrow{n,l}{n;l} \arrow{w,b}{w;b} \arrow[2]{e,t}{e;t} \arrow{s,r}{s;r} \arrow{ese,r}{ese;r} \end{diagram}\] 3.11 Нумерация и выравнивание многострочных формул 99. Пронумерованная формула с меткой Ax=b для ссылок (см. пример 106). Ax = b (1) \begin{equation}\label{Ax=b} Ax=b \end{equation} 100. Несколько нумеруемых формул, \notag отменяет нумерацию. Окружение align вырав- нивает все строки по позиции, отмеченной символами &. 2x + 5y < 3; (2) x2 + y2 < 10; (3) x > 0. \begin{align} 2x+5y &< 3; \\ x^2+y^2 &< 10; \label{Krug} \\ x &> 0. \notag \end{align} 101. Те же формулы, но окружение gather выравнивает все строки по центру. 2x + 5y < 3; (4) x2 + y2 < 10; (5) x > 0. \begin{gather} 2x+5y < 3; \\ x^2+y^2 < 10; \\ x > 0. \notag \end{gather} 102. Окружение align* отменяет нумерацию для всех строк. x = ? cos ?; y = ? sin ?. \begin{align*} x &= \rho \cos \varphi;\\ y &= \rho \sin \varphi. \end{align*} 103. Окружение align позволяет выровнять любое число формул. A + B = B + A; A + 0 = A; AB = BA A - 1 = A; \begin{align*} A+B &= B+A; &\qquad A+0 &= A;\\ AB &= BA &\qquad A\cdot1 &= A; \end{align*}
20 104. Команда \intertext выводит строку текста между строками формул, не нарушая вы- равнивания. A + B = B + A; A + 0 = A; а такжеAB = BA A - 1 = A; \begin{align*} A+B &= B+A; &\qquad A+0 &= A;\\ \intertext{а также} AB &= BA &\qquad A\cdot1 &= A; \end{align*} 105. Нумерация формул собственными знаками, также с автоматической генерацией ссылок. x = A?1b; (**) x > 0; (6) x > x0; (6') \begin{align} & x=A^{-1}b; \tag{**}\label{aster} \\ & x > 0; \label{restr} \\ & x > x_0; \tag{\ref{restr}$'$} \end{align} 106. Ссылки на помеченные формулы и на страницу. Команда \eqref сама ставит скобки. см. (1)-(3). Уравнение (1), стр. 19. Формула (**). см.~(\ref{Ax=b})--(\ref{Krug}). Уравнение~(\ref{Ax=b}), стр.~\pageref{Ax=b}. Формула~\eqref{aster}. 107. Все формулы, попавшие внутрь окружения subequations, будут иметь подчинён- ную нумерацию. По умолчанию к номерам добавляются латинские буквы. Переопределение \theequation позволяет изменить вид номеров (см. также пример 195). A = 0 (7-а) B = 0 (7-б) C = 0 (7-в) \begin{subequations} \renewcommand{\theequation}{ \theparentequation-\asbuk{equation}} \begin{equation} A=0 \end{equation} \begin{gather} B=0 \\ C=0 \end{gather} \end{subequations} 108. Привязка нумерации формул к разделам. Вторым аргументом \numberwithin может быть chapter, subsection или subsubsection, и т. п. x = A?1b (3.7) \numberwithin{equation}{section} \begin{equation} x=A^{-1}b \end{equation}
21 3.12 Разбиение длинных формул 109. Окружение multline прижимает первую строку влево, последнюю право, остальные цен- трирует (если в \documentclass включена опция fleqn, то средние строки тоже прижима- ются влево). Как обычно, есть вариант multline*, который не производит нумерации. Sn = a1 + - - - + an = = (a1 + an) + - - - = = (a1 + an) n/2 (8) \begin{multline} S_n = a_1+\dots+a_n = \\ = (a_1+a_n) + \dots = \\ = (a_1+a_n)\,n/2 \end{multline} 110. Разбиение длинной формулы с выравниванием частей. Sn = a1 + - - - + an = = (a1 + an) + - - - = = (a1 + an) n/2 (9) \begin{equation} \begin{split} S_n &= a_1+\dots+a_n = \\ &= (a_1+a_n) + \dots = \\ &= (a_1+a_n)\,n/2 \end{split} \end{equation} 3.13 Теоремы 111. Создание окружения Th для автоматически нумеруемых теорем. Теорема 1 (Виет) Если x1 и x2 корни квадратного уравнения, то x1 + x2 = ?b и x1x2 = c. \newtheorem{Th}{Теорема} \begin{Th}[Виет]\label{thViet} Если $x_1$~и~$x_2$~--- корни квадратного уравнения, то $x_1 + x_2 = -b$ и~$x_1 x_2 = c$. \end{Th} 112. Создание окружения Lem для лемм, нумеруемых вместе с теоремами. Лемма 2 Для любых x и y из R справед- ливо (x + y)2 = x2 + 2xy + y2. \newtheorem{Lem}[Th]{Лемма} \begin{Lem} Для любых $x$~и~$y$ из~$\mathbb R$ справедливо $(x+y)^2 = x^2+2xy+y^2$. \end{Lem} 113. Создание окружения Def для определений с нумерацией, подчинённой разделам. Определение 3.1 Квадратным называ- ется уравнение вида ax2 + bx + c = 0. \newtheorem{Def}{Определение}[section] \begin{Def} Квадратным называется уравнение вида $ax^2+bx+c=0$. \end{Def}
22 114. Полный контроль над стилем оформления окружений типа теорем. Отличия русской полиграфической традиции: (а) после номера теоремы нужна точка, (б) большие вертикаль- ные интервалы до и после формулировки теоремы не нужны, (в) абзацный отступ нужен. % команды с @в имени можно переопределять только в стилевом файле \renewcommand{\@begintheorem}[2] {\par{\sc #1\ #2.\ }\samepage\begingroup\sl} \renewcommand{\@opargbegintheorem}[3] {\par{\sc #1\ #2\ (#3).\ }\samepage\begingroup\sl} \renewcommand{\@endtheorem}{\endgroup} Определение 3.1. Квадратным на- зывается уравнение вида ax2 + bx + c = 0. \newtheorem{DefRus}{Определение}[section] \begin{DefRus} Квадратным называется уравнение вида $ax^2+bx+c=0$. \end{DefRus} 115. Определение нового окружения для оформления текста доказательств. Три аргумента команды \newenvironment: имя окружения, команды для \begin, команды для \end. \newenvironment{Proof} % имя окружения {\par\noindent{\bf Доказательство.}} % команды для \begin {\hfill$\scriptstyle\blacksquare$} % команды для \end Доказательство. Непосредственно из определения вытекает требуемое утвер- ждение. ? \begin{Proof} Непосредственно из определения вытекает требуемое утверждение. \end{Proof} 3.14 Определение новых команд 116. Определение новой команды позволяет быстрее набирать часто встречающиеся фрагмен- ты формул. Пусть i = 1, 2, . . . , n и j = 1, 2, . . . , n \def\ton{1,2,\dots,n} Пусть $i=\ton$ и $j=\ton$ 117. Определение команды с аргументом позволяет набирать часто встречающиеся фрагмен- ты формул, даже если они немного различаются. Пусть i = 1, 2, . . . , n и j = 1, 2, . . . ,N \def\ton#1{1,2,\dots,#1} Пусть $i=\ton n$ и $j=\ton N$ 118. Команда \def небезопасна она позволяет переопределять ранее определённые коман- ды, что чревато непредсказуемыми последствиями. Вместо неё лучше использовать команду \newcommand, которая выдаёт ошибку при попытке переопределения. Например, \newcommand не позволит переопределить \to, а \To пожалуйста! Пусть i = 1, 2, . . . , n и j = 1, 2, . . . ,N \newcommand\To[1]{1,2,\dots,#1} Пусть $i=\To n$ и $j=\To N$ 119. Команда \renewcommand позволяет переопределить существующую команду, и будет ру- гаться, если такой команды ещё нет. Пусть x ? 0 и y ? 0. Пусть x > 0 и y 6 0. Пусть $x\geq 0$ и $y\leq 0$. \renewcommand{\leq}{\leqslant} \renewcommand{\geq}{\geqslant} Пусть $x\geq 0$ и $y\leq 0$.
23 120. Определение новой команды \Set с двумя аргументами для описания множеств. В общем случае аргументов может быть не более 9. Они обозначаются #1, #2,. . . , #9. Показаны оба способа определения: через \newcommand и через \def. F = {f(x) : x ? X} F = {f(x) : x ? X} F = {f(x) : x ? X} $F = \left\{ f(x)\colon x \in X \right\}$ \newcommand\Set[2]{% \left\{ #1 \colon #2 \right\}} $F = \Set{f(x)}{x \in X}$ \def\Set#1#2{\left\{#1\colon#2\right\}} $F = \Set{f(x)}{x \in X}$ 121. Определение новой команды \dd с двумя аргументами для сокращённого набора частных производных. Без определения команды: ?Rk ?x = ?Ik ?y , ?Rk ?y = ??Ik ?x . Новая команда позволяет делать то же са- мое, но короче и нагляднее: ?Rk ?x = ?Ik ?y , ?Rk ?y = ??Ik ?x . Без определения команды: \[ \frac{\partial R_k}{\partial x} = \frac{\partial I_k}{\partial y}, \quad \frac{\partial R_k}{\partial y} = -\frac{\partial I_k}{\partial x}. \] \def\dd#1#2{\frac{\partial#1}{\partial#2}} Новая команда позволяет делать то~же самое, но короче и~нагляднее: \[ \dd{R_k}x = \dd{I_k}y, \quad \dd{R_k}y =-\dd{I_k}x. \] 122. Определение новой команды \fbx с двумя аргументами для сокращённого набора мало отличающихся фрагментов формулы. \newcommand{\fbx}[2]{\fbox{$x:\;\;\varphi(x)=#1 \atop\hfill y^*(x)=#2$}} g z }| { x: '(x)=1 y¤(x)=1 x: '(x)=0 y¤(x)=1 | {z } G z }b| { x: '(x)=1 y¤(x)=0 x: '(x)=0 y¤(x)=0 | {z } B \[ \underbrace{\overbrace{ \fbx11}^{\textstyle g}\! \fbx01}_{\textstyle G}\! \underbrace{\overbrace{ \fbx10}^{\textstyle b}\! \fbx00}_{\textstyle B} \]
24 4 Набор текста 4.1 Выделение текста 123. Команды смены семейства, насыщенности и начертания шрифтов, действующие на свой аргумент. Могут комбинироваться в различных сочетаниях. Семейство roman Семейство sans serif Семейство typewriter Насыщенность normal Насыщенность boldface Начертание upright Начертание italic Начертание slanted Начертание small caps Семейство \textrm{roman} Семейство \textsf{sans serif} Семейство \texttt{typewriter} Насыщенность \textmd{normal} Насыщенность \textbf{boldface} Начертание \textup{upright} Начертание \textit{italic} Начертание \textsl{slanted} Начертание \textsc{small caps} 124. Команды смены семейства, насыщенности и начертания шрифтов. Действуют на весь оставшийся текст {в пределах группы}. Могут комбинироваться в различных сочетаниях. Начертание slanted Начертание small caps Начертание italic Семейство typewriter Семейство sans serif Насыщенность boldface а теперь вернём всё обратно Начертание upright Семейство roman Насыщенность normal \slshape Начертание slanted \scshape Начертание small caps \itshape Начертание italic \ttfamily Семейство typewriter \sffamily Семейство sans serif \bfseries Насыщенность boldface {\rm--- а теперь вернём всё обратно ---} \upshape Начертание upright \rmfamily Семейство roman \mdseries Насыщенность normal 125. Устаревшие команды переключения шрифтов из версии LATEX 2.09. В отличие от преды- дущих команд, не могут комбинироваться. Романский шрифт Курсивный шрифт Полужирный шрифт Наклонный шрифт Рубленый шрифт Пишущая машинка шрифт Капитель шрифт {\rm Романский} шрифт {\it Курсивный} шрифт {\bf Полужирный} шрифт {\sl Наклонный} шрифт {\sf Рубленый} шрифт {\tt Пишущая машинка} шрифт {\sc Капитель} шрифт 126. Команда выделения \em действует по-разному в зависимости от контекста, в отличие от команды \it. Команда выделения изменяет теку- щее начертание. Команда выделения изменяет теку- щее начертание. Команда {\em выделения {\em изменяет} текущее начертание.}\par Команда {\it выделения {\it изменяет} текущее начертание.}
25 127. Команды переключения размера шрифта. Крошечный шрифт Как индексы шрифт Как сноски шрифт Маленький шрифт Нормальный шрифт Большой шрифт Огромный шрифт Громадный шрифт Гигантский шрифт Грандиозный шрифт {\tiny Крошечный} шрифт {\scriptsize Как индексы} шрифт {\footnotesize Как сноски} шрифт {\small Маленький} шрифт {\normalsize Нормальный} шрифт {\large Большой} шрифт {\Large Огромный} шрифт {\LARGE Громадный} шрифт {\huge Гигантский} шрифт {\Huge Грандиозный} шрифт 128. При смене размера шрифта межстрочный интервал меняется только в конца абзаца. Если сначала вернуть прежний шрифт, а потом закончить абзац, то получится некрасиво. Если сначала закончить абзац, а потом вернуть прежний шрифт, то получится хорошо. Если {\scriptsize сначала вернуть прежний шрифт, а~потом закончить абзац, }\par то получится некрасиво. Если {\scriptsize сначала закончить абзац, а~потом вернуть прежний шрифт, \par} то получится хорошо. 129. Преобразование букв в прописные и строчные (на цифры и знаки препинания не влияет). ПРОПИСНЫЕ И СТРОЧНЫЕ 123? прописные и строчные 123? ПрОпИсНыЕ и СтРоЧнЫе 123? \uppercase{ПрОпИсНыЕ и~СтРоЧнЫе 123?} \lowercase{ПрОпИсНыЕ и~СтРоЧнЫе 123?} \textsc{ПрОпИсНыЕ и~СтРоЧнЫе 123?} 130. Другие способы выделения текста. черта сверху текст подчеркнут текст строчными текст ПРОПИСНЫМИ текст выше на 2pt текст обведён в рамку текст рамка толщиной 2pt черта $\overline{\mbox{сверху}}$ текст \underline{подчеркнут} текст \lowercase{СтРоЧнЫмИ} текст \uppercase{пРоПиСнЫмИ} текст \raisebox{2pt}{выше} на 2pt текст \fbox{обведён в рамку} { \setlength{\fboxrule}{2pt} \setlength{\fboxsep}{8pt} текст \fbox{рамка толщиной 2pt}} 131. Способы выделения текста в пакете \usepackage{ulem}\normalem. Длинный подчеркнутый текст, в отли- чие от underline, может распространяться на несколько строк. :: К:::::::::::::::: сожалению, :::::::::: переносы:::::::::::::::::: приходится::::::::::::::::::: расставлять :::::::::: вручную. Это не удобно! /С//о//в/с//е/м//////н//е /у/д//о//б//н/о//. \uline{Длинный подчеркнутый текст, в~отли\-чие от~underline, может распространяться на~несколько строк.} \uwave{К~сожалению, переносы приходится расставлять вручную.} \sout{Это не удобно!} \xout{Совсем не удобно.}
26 132. Выделение текста цветом в пакете \usepackage{color}. Предопределённые имена цве- тов: black, white, red, green, blue, cyan, magenta, yellow. Команда color переключает цвет, ко- манда textcolor действует только на свой аргумент. Команда color \color{blue} переключает цвет, команда \textcolor{red}{textcolor} действует только на свой аргумент. 133. Выделение фона текста и определение собственных цветов в пакете \usepackage{color}. Команда colorbox Команда colorbox Команда fcolorbox \definecolor{light-blue}{rgb}{0.8,0.85,1} \colorbox{light-blue}{Команда colorbox} \definecolor{light-gray}{rgb}{0.8,0.8,0.8} \colorbox{light-gray}{Команда colorbox} \definecolor{lgreen}{rgb}{0.9,1,0.8} \fcolorbox{green}{lgreen}{Команда fcolorbox} 134. Гиперссылки при подключении пакета \usepackage[colorlinks,urlcolor=blue]{hyperref}. Наш сайт www.ccas.ru/frc \href{http://www.ccas.ru/frc}{Наш сайт} \url{www.ccas.ru/frc} 4.2 Выравнивание текста 135. Выравнивание по левому краю. Текст выравнивается по левому краю \begin{flushleft} Текст\\ выравнивается\\ по левому краю \end{flushleft} 136. Выравнивание по центру. Текст выравнивается по центру \begin{center} Текст\\ выравнивается\\ по центру \end{center} 137. Выравнивание по правому краю.Текст выравнивается по правому краю \begin{flushright} Текст\\ выравнивается\\ по правому краю \end{flushright} 138. Выравнивание с помощью растяжимых промежутков. Выравнивание этого текста растяжимымипромежутками Выравнивание \hfill этого \hfill текста \par \hfil растяжимыми \hfil \par \hfill промежутками 139. Команда \parbox делает из текста блок заданной ширины, который ведёт себя как один символ. Команда \centerline центрирует отдельную строку. УТВЕРЖДАЮ Директор ВЦ РАН чл.-корр. РАН . . . . . . . . . . . . . . . . .Ю. Г. Евтушенко \hfill\parbox{6cm}{ \centerline{УТВЕРЖДАЮ} Директор ВЦ РАН чл.-корр. РАН \hbox to 6cm{\dotfill Ю.~Г.~Евтушенко}}
27 140. Команды, управляющие формой абзаца. Команда hangindent задаёт смещение строк, hangafter число несмещённых строк, команда noindent удаляет абзацный отступ. Отрицательный hangafter производит отступ. Поло- жительный hangafter производит выступ. Отрицательный hangindent работает спра- ва. Положительный hangindent работает слева. \hangindent=3cm \hangafter=2 \noindent Команда hangindent задаёт смещение строк, hangafter --- число несмещённых строк, команда noindent удаляет абзацный отступ. \hangindent=3cm \hangafter=-2 \noindent Отрицательный hangafter производит отступ. Положительный hangafter производит выступ. \hangindent=-2cm \hangafter=1 \noindent Отрицательный hangindent работает справа. Положительный hangindent работает слева. 141. Команда \raggedright отменяет переносы и выравнивание по правому краю. Команда raggedright отменяет переносы и выравнивание по правому краю. Команда flushright делает рваный край слева, а не справа \raggedright Команда raggedright отменяет переносы и~выравнивание по~правому краю. \par \flushright Команда flushright делает рваный край слева, а~не справа 4.3 Управление переносами слов 142. Расстановка переносов вручную. Команда \- отмечает места возможных переносов. В словах с дефисом типа ?0- транспортировка? переносы не ставятся. В словах с дефисом типа ?0-транспор- тировка? переносы не ставятся. В~словах с~дефисом типа <<0-транспортировка>> переносы не~ставятся. \par В~словах с~дефисом типа <<0-транс\-пор\-ти\-ров\-ка>> переносы не~ставятся. 143. Расстановка переносов вручную. Команда "= печатает дефис, разрешая делать перенос в самих словах. Требуется подключение пакета \usepackage[russian]{babel}. В словах с дефисом типа ?0-транспор- тировка? проблему переносов лучше ре- шать именно так. В~словах с~дефисом типа <<0"=транспортировка>> проблему переносов лучше решать именно так. 144. Переключение правил переносов для длинных фрагментов английского текста. Требуется подключение пакета \usepackage[english,russian]{babel}. After this command English hyphen- ation rules are ON. After this command English hyphenation rules are OFF. \English After this command English hyphenation rules are ON. \par \Russian After this command English hyphenation rules are OFF.
28 4.4 Перечни 145. Маркированный перечень. Может содержать до шести уровней вложенности. : Метод Ньютона. : Метод Лагранжа. : Метод линеаризации. \begin{itemize} \item Метод Ньютона. \item Метод Лагранжа. \item Метод линеаризации. \end{itemize} 146. Маркеры у перечня можно переопределить. + Доказана сходимость. ? Нет оценки скорости. (?) Приводится текст программы. \begin{itemize} \item[$+$] Доказана сходимость. \item[$-$] Нет оценки скорости. \item[(?)] Приводится текст программы. \end{itemize} 147. Перечень с заголовками. itemize: пункты помечаются маркерами; enumerate: пункты нумеруются; description: пункты снабжаются заголов- ками. \begin{description} \item[itemize:] пункты помечаются маркерами; \item[enumerate:] пункты нумеруются; \item[description:] пункты снабжаются заголовками. \end{description} 148. Нумерованный перечень. Может содержать до шести уровней вложенности. Промежуток между текстом и переч- нем, а также между пунктами перечня. 1. Пункты нумеруются. 2. Вложенные перечни: (a) до 6 уровней вложенности; (b) отступы и нумерация меняются автоматически; (c) на пункты можно ссылаться. 3. Пункты могут содержать абзацы, формулы, и т. п. Промежуток между текстом и~перечнем, а~также между пунктами перечня. \begin{enumerate} \item Пункты нумеруются. \item Вложенные перечни: \begin{enumerate} \item до 6 уровней вложенности; \item отступы и нумерация меняются автоматически; \item на пункты можно ссылаться. \label{enCanRef} \end{enumerate} \item Пункты могут содержать абзацы, формулы, и~т.~п. \end{enumerate} 149. Ненумеруемый перечень или ?тривиальный список?. Перечень из трёх пунктов: во-первых; во-вторых; в-третьих. Перечень из трёх пунктов: \begin{trivlist} \item во-первых; \item во-вторых; \item в-третьих. \end{trivlist}
29 150. Нумерация элементов перечня русскими буквами. Семейство команд \theenumi, \theenumii, \theenumiii, \theenumiv, \theenumv, \theenumvi, определяет вид номера пунк- та в ссылках. Семейство команд \labelenum{i. . . vi} отвечает за вид пункта в перечне. Запомни два правила: а) босс всегда прав; б) если он не прав, см. (а); \renewcommand{\theenumi}{(\asbuk{enumi})} \renewcommand{\labelenumi}{\asbuk{enumi})} Запомни два правила: \begin{enumerate} \item\label{boss} босс всегда прав; \item если он не прав, см.~\ref{boss}; \end{enumerate} 151. Семейство команд \@list{i. . . vi} определяет геометрические параметры списка. Тот же список после переопределения выглядит привычней для русского читателя. Запомни два правила: а) босс всегда прав; б) если он не прав, см. (а); \renewcommand{\@listi}{ % вертикальные промежутки: \topsep=0pt % вокруг списка \parsep=0pt % между абзацами \itemsep=0pt % между пунктами % горизонтальные промежутки: \itemindent=0pt % абзацный выступ \labelsep=1ex % расстояние до метки \leftmargin=\parindent % отступ слева \rightmargin=0pt} % отступ справа 152. Наиболее гибкое окружение для создания собственных перечней. ? \begin{list}{label}{decl} label > метка пунктов списка; decl > геометрические параметры списка. \begin{list}{$\Rightarrow$} {\leftmargin=22mm\labelwidth=20mm} \item\verb'\begin{list}{label}{decl}' \item[\tt label\hfill$\to$] метка пунктов списка; \item[\tt decl\hfill$\to$] геометрические параметры списка. \end{list} 4.5 Горизонтальные промежутки 153. Стандартные горизонтальные промежутки. Команды \!, \:, \; только для формул. Пробел отрицательный Пробел отсутствует Пробел тонкий Пробел средний Пробел толстый Пробел обычный Пробел в 1em Пробел в 2em Пробел $\vrule\!\vrule$ отриц. Пробел \vrule\vrule~отсутствует Пробел \vrule\,\vrule~тонкий Пробел $\vrule\:\vrule$ средний Пробел $\vrule\;\vrule$ толстый Пробел \vrule\ \vrule~обычный Пробел \vrule\quad\vrule~в 1em Пробел \vrule\qquad\vrule~в 2em
30 154. Вставка горизонтальных промежутков заданной длины. Это ровно 1 см Это ровно 10 пунктов Это\hspace{1cm}ровно 1 см Это\hspace{10pt}ровно 10 пунктов 155. Команды для правого и левого перекрытия текста. Правое RпLерAеPкрытие. ЛLеLвAоеP перекрытие. Правое \rlap{RLAP} перекрытие. Левое \llap{LLAP} перекрытие. 156. Горизонтальные промежутки могут быть фиксированной длины, растяжимыми и/или сжимаемыми. Опции plus p и minus m говорят, на сколько промежуток можно растянуть или сжать соответственно. Если опции не заданы, то полагается p = m = 0. Это ровно 1 нерастяжимый сантиметр Это ровно 1 растяжимый сантиметр Это\hspace{1cm}ровно 1 нерастяжимый сантиметр Это\hspace{1cm plus 1cm}ровно 1 растяжимый сантиметр 157. Вставка промежутков с заполнением. проф. . . . . . . . . . . . . . . ./И. В. Анов/проф. . . . . . . . . . ./И. В. Анов/проф. . . . . . . . . . . . . . . . . . . . . . . . ./И. В. Анов/A--------------------------------------------------B \hbox to 6cm {проф. \dotfill/И.~В.~Анов/} проф. \hbox to 4cm {\dotfill/И.~В.~Анов/} \hbox to \textwidth {проф. \dotfill/И.~В.~Анов/} \hbox to6cm{A\leaders\hbox{$\cdot$}\hfill B} 158. При печати бланков полезно определить команду для рисования линеек. ? ? 200 г. \def\hrf#1{\hbox to#1{\hrulefill}} <<\hrf{2em}>> \hrf{6em} 200\hrf{1em}~г. 159. Единицы длины, которые понимает TEX. Размеры em и ex зависят от текущего выбран- ного шрифта. Правила перевода единиц приведены на стр. 51. \def\MYvrule{\rule{0.4pt}{1ex}} \def\MYunit#1{\MYvrule{\hbox to#1{\hrulefill}}\MYvrule~~} дюйм (inch) сантиметр цицеро пика (pica) миллиметр дидот-пункт большой пункт пункт (point) 100000 scaled points высота ?ex? ширина ?em? \MYunit{1in} дюйм (inch) \MYunit{1cm} сантиметр \MYunit{1cc} цицеро \MYunit{1pc} пика (pica) \MYunit{1mm} миллиметр \MYunit{1dd} дидот-пункт \MYunit{1bp} большой пункт \MYunit{1pt} пункт (point) \MYunit{100000sp} 100000 scaled points \MYunit{1ex} высота <<ex>> \MYunit{1em} ширина <<em>> 160. Другие виды заполнителей, способных занять собой всё отведённое им место. Линия Верхняя скобка | {z } Нижняя скобка z }| { Точки . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Левая стрелка <????????????????????? Правая стрелка ????????????????????> Линия \hrulefill Верхняя скобка \upbracefill Нижняя скобка \downbracefill Точки \dotfill Левая стрелка \leftarrowfill Правая стрелка \rightarrowfill
31 4.6 Вертикальные промежутки 161. Разрывы строк внутри абзаца с добавлением промежутка и без. Строку можно где угодно разорвать. И при этом сделать разрыв заданной величины. Строку можно\\ где угодно разорвать. И~при этом\\[6pt] сделать разрыв заданной величины. 162. Вертикальный промежуток между абзацами. Внимание! Отступ между абзацами делается совсем. . . . . . другой командой. Внимание! Отступ между абзацами делается совсем\dots \vspace{6pt}\dots другой командой. 163. Стандартные вертикальные промежутки. Команда \par эквивалентна пустой строке. Предыдущая строка. Обычный промежуток. Малый промежуток. Средний промежуток. Большой промежуток. Предыдущая строка. \par Обычный промежуток. \par\smallskip Малый промежуток. \par\medskip Средний промежуток. \par\bigskip Большой промежуток. 164. Горизонтальная линейка. Абзацы можно отделять линией Вот так. Абзацы можно отделять линией \medskip\hrule\medskip Вот так. 165. Стильная горизонтальная линейка. Горизонтальные линейки могут иметь заданную длину и толщину. Вот так. Горизонтальные линейки могут иметь заданную длину и толщину. \medskip \hrule width 3cm height 1pt \vskip 1pt \hrule width 3cm \medskip Вот так. 4.7 Таблицы 166. Имитация табулятора. Команда Назначение \= задать позицию \kill убрать строку \> следующая позиция \\ следующая строка \\* запретить разрыв \' выровнять вправо \+ сдвиг всех позиций вправо \- сдвиг всех позиций влево \begin{tabbing} Команда\quad \= Назначение \\ \verb'\=' \> задать позицию \\ \verb'\kill' \> убрать строку \\ \verb'\>' \> следующая позиция \\ \verb'\\' \> следующая строка \\ \verb'\\*' \> запретить разрыв \\ \verb.\'. \> выровнять вправо \\ \verb'\+' \> сдвиг всех позиций вправо\\ \verb'\-' \> сдвиг всех позиций влево \\ \end{tabbing}
32 167. Команды табулятора \+ и \- смещают все последующие строки. Марш, марш, левой! Марш, марш, правой! \begin{tabbing} \qquad\=\qquad\=\qquad\=\kill \+Марш,\\ \+марш,\\ \+левой! \-\-\-\\ \+Марш,\\ \+марш,\\ \+правой!\\ \end{tabbing} 168. Таблица с автоматическим определением ширины колонок. Каждая ячейка не может содержать более одной строки. Аргумент {||cll||} задаёт структуру колонок таблицы. Название Применение - дефис из-за ?-кванта - en-тире стр. 3-7 em-тире Это тире ? минус ?f(?x) \begin{tabular}[t]{||c|ll||} \hline& Название & Применение \\ \hline - & дефис & из-за $\gamma$-кванта \\ -- & en-тире & стр. 3--7 \\ --- & em-тире & Это --- тире \\ $-$ & минус & $-f(-x)$ \\ \hline \end{tabular} 169. Описатель p{w} задаёт колонку из многострочных ячеек шириной w. Содержимое каж- дой ячейки прижимается кверху. Простые Не простые 2, 3, 5, 7, 11, 13, 17, 19, 23, 29 4, 6, 8, 9, 10, 12, 14 \begin{tabular}[t]{|p{6em}|p{9em}|} \hline Простые & Не простые \\ \hline 2, 3, 5, 7, 11, 13, 17, 19, 23, 29 & 4, 6, 8, 9, 10, 12, 14 \\ \hline \end{tabular} 170. Команда \multicolumn объединяет несколько колонок в пределах одной строки таблицы. Описатели колонок Описатель Назначение r прижать вправо l прижать влево c выровнять по центру | вертикальная линия p{w} выровнять вверх @{x} повтор текста x \begin{tabular}{|c|l|} \hline \multicolumn{2}{|c|}{Описатели колонок}\\ \hline Описатель & Назначение \\ \hline \verb'r' & прижать вправо\\ \verb'l' & прижать влево\\ \verb'c' & выровнять по центру\\ \verb'|' & вертикальная линия\\ \verb'p{w}' & выровнять вверх\\ \verb'@{x}' & повтор текста x\\ \end{tabular}
33 171. В пакете array определены дополнительные описатели. b{w} колонка ширины w, с вертикаль- ным выравниванием вниз m{w} колонка ширины w, с вертикаль- ным выравниванием по центру >{x} любые команды x, исполняемые перед элементом колонки <{x} любые команды x, исполняемые после элемента колонки !{x} аналогично @{x}, но не подавляет промежуток между колонками \begin{tabular}[t]{|c|p{6cm}|} \verb'b{w}' & колонка ширины w, с~вертикальным выравниванием вниз\\ \verb'm{w}' & колонка ширины w, с~вертикальным выравниванием по центру\\ \verb'>{x}' & любые команды x, исполняемые перед элементом колонки\\ \verb'<{x}' & любые команды x, исполняемые после элемента колонки\\ \verb'!{x}' & аналогично \verb'@{x}', но не подавляет промежуток между колонками\\ \hline \end{tabular} 172. Описатели >{x} и <{x} позволяют создать колонку с математическим содержанием. линейная O(xn) полиномиальная O(xn) экспоненциальная O(ex) \begin{tabular}[t]{r>{$}l<{$}} линейная & O(x^n)\\ полиномиальная & O(x^n)\\ экспоненциальная & O(e^x)\\ \end{tabular} 173. Команда \cline позволяет отделить строки таблицы только в заданных колонках. Окружения М/Т Перечни itemize enumerate Т description Таблицы array М tabular Т tabbing Т \begin{tabular}[t]{|c|l|c|} \hline \multicolumn{2}{|c|}{Окружения} & М/Т \\ \hline Перечни & itemize & \\ \cline{2-2} & enumerate & Т \\ \cline{2-2} & description & \\ \hline Таблицы & array & М \\ \cline{2-3} & tabular & Т \\ \cline{2-3} & tabbing & Т \\ \hline \end{tabular}
34 174. Окружение minipage создаёт ?подстраницу? заданной ширины. Внутри minipage может находиться несколько абзацев. Они будут размещаться как на обычной странице. Minipage можно ис- пользовать для размеще- ния рядом больших бло- ков. Необязательный параметр вер- тикального выравнивания блоков: [t] вверх; [b] вниз; [c] по центру. \noindent \begin{minipage}[t]{44mm}\parindent=2em Внутри minipage может находиться несколько абзацев. Они будут размещаться как на~обычной странице.\par Minipage можно использовать для размещения рядом больших блоков. \end{minipage} \hfill \begin{minipage}[t]{28mm} Необязательный параметр вертикального выравнивания блоков: \\[1ex][t]~--- вверх; \\[1ex][b]~--- вниз; \\[1ex][c]~--- по~центру. \end{minipage} 175. Набор текста в несколько колонок. Окружение multicols доступно при подключении пакета \usepackage{multicol}. Обязательный параметр {2} указывает число колонок. Преамбула в одну колонку Балансировка колонок по длине выполняется ав- томатически. Ес- ли колонки слиш- ком узкие, то луч- ше сделать рваный правый край. Columnseprule толщина линейки. Columnsep зазор между ко- лонками. \columnseprule=0.3pt\columnsep=24pt \begin{multicols}{2} [\textbf{Преамбула в одну колонку}] Балансировка колонок по~длине выполняется автоматически. Если колонки слишком узкие, имеет смысл сделать рваный правый край. \par Columnseprule~--- толщина линейки. \par Columnsep~--- зазор между колонками. \end{multicols}
35 4.8 Структура документа и оглавление 176. Команды секционирования документа. Если перед аргументом стоит *, то раздел не ну- меруется и не включается в оглавление. Нумеруемые разделы можно помечать командой \label. Команда \chapter в стиле article не определена. Часть I Заголовок части 5 Заголовок раздела В данном разделе речь пойдёт о 5.1 Подраздел 5.1.1 Под-подраздел Параграф Известно, что... Подпараграф Кстати,... \part{Заголовок части} %\chapter{Глава} % не определена в article \section{Заголовок раздела} В данном разделе речь пойдёт о... \subsection{Подраздел} \label{secExample} \subsubsection{Под-подраздел} \paragraph{Параграф} Известно, что... \subparagraph{Подпараграф} Кстати,... 177. Команда \addcontentsline вставляет в оглавление текст заданного стиля. результат в примере 178 \addcontentsline{toc}{section}{Как раздел} \addcontentsline{toc}{subsection} {Как подраздел} 178. Оглавление генерируется из заголовков уровня не ниже subsubsection. I Заголовок части 35 5 Заголовок раздела 35 5.1 Подраздел . . . . . . . . . . . 35 5.1.1 Под-подраздел . . . . . 35 Как раздел 35 Как подраздел . . . . . . . . . . . . 35 \tableofcontents 179. Стандартные заголовки. Эти команды можно переопределять. Аннотация Часть Глава Список литературы Рис. Таблица Литература Предметный указатель Приложение Содержание Список иллюстраций Список таблиц \abstractname \partname \chaptername \refname \figurename \tablename \bibname \indexname \appendixname \contentsname \listfigurename \listtablename
36 4.9 Листинги, программы, алгоритмы 180. Буквальное воспроизведение листингов программ окружение verbatim. main() { printf("## %d ##", i); } \begin{verbatim} main() { printf("## %d ##", i); } \end{verbatim} 181. Буквальное воспроизведение строк со спецсимволами TEXа команда \verb. Команда \verb повторяет любые сим- волы, в том числе ?^~\{}$&#%_?, вариант $ x^2 $ выделяет пробелы. Команда \verb'\verb' повторяет любые символы, в~том числе <<\verb|^~\{}$&#%_|>>, вариант \verb*'$ x^2 $' выделяет пробелы. 182. Разрывы строк и пробелы повторяют форматирование исходного файла. Похоже на текст, набранный с помощью печатной машинки, в который позже вписали N ? k + 1 каких-то формул. \obeylines\obeyspaces\tt Похоже на текст, набранный с помощью печатной машинки, в который позже вписали $N-k+1$ каких-то формул. 183. Окружение listing для буквального воспроизведения с нумерацией строк. Задаётся шаг нумерации и начальный номер. Пакет \usepackage{moreverb}. 1 constructor TFirstAnalyt.Create; 2 begin inherited Create; 4 DecimalSeparator:= '.'; InitClear; 6 Sel:= TmaList.Create; ParamExample:= ''; 8 end; \begin{listing}[2]{1} constructor TFirstAnalyt.Create; begin inherited Create; DecimalSeparator:= '.'; InitClear; Sel:= TmaList.Create; ParamExample:= "; end; \end{listing} 184. Окружение listingcont продолжает ранее начатую нумерацию. destructor TFirstAnalyt.Destroy; 10 begin InitClear; {удалить всё} 12 inherited Destroy; end; \begin{listingcont} destructor TFirstAnalyt.Destroy; begin InitClear; {удалить всё} inherited Destroy; end; \end{listingcont} 185. Команда \listinginput выводит в виде листинга содержимое заданного файла. Полезно для распечатки программ. Пакет \usepackage{moreverb}. 1 unit Analyt1; 2 interface 3 uses 4 SysUtils, Graphics, Controls; 5 type 6 TFirstAnalyt = class (TCustomAnalyt) . . . . . . . . . \listinginput[1]{1}{Analyt1.pas}
37 186. Оформление алгоритмов в пакете \usepackage[noend]{algorithmic}. Автоматическое разбиение на строки, расстановка табуляций и проверка вложенности циклов. Необязатель- ный аргумент [1] задаёт шаг нумерации (если опущен, то нумерация не выводится). Require: x, y; Ensure: z = F(x, y); 1: b := a; {инициализация} 2: for i = 1, . . . , n do 3: for all w ? W таких, что w > 0 do 4: repeat 5: a := a + 1; 6: until a > 0; 7: if a > 0 then 8: while W 6= ? do 9: W := W ? {a}; 10: else if a = 0 then 11: loop {бесконечный цикл} 12: когда-нибудь выход; 13: else {при a < 0} 14: a := 1; \begin{algorithmic}[1] \REQUIRE $x, y$; \ENSURE $z = F(x,y)$; \STATE $b := a$; \COMMENT{инициализация} \FOR{$i=1,\dots,n$} \FORALL{$w \in W$ таких, что $w>0$} \REPEAT \STATE $a:=a+1$; \UNTIL{$a>0$}; \ENDFOR \ENDFOR \IF{$a>0$} \WHILE{$W\neq\varnothing$} \STATE $W := W-\{a\}$; \ENDWHILE \ELSIF{$a=0$} \LOOP[бесконечный цикл] \STATE когда-нибудь {\bf выход}; \ENDLOOP \ELSE[при $a<0$] \STATE $a:=1$; \ENDIF \end{algorithmic} 187. Русификация: тот же алгоритм после переопределения ключевых слов. Вход: x, y; Выход: z = F(x, y); 1: b := a; //инициализация 2: для i = 1, . . . , n 3: для всех w ? W таких, что w > 0 4: повторять 5: a := a + 1; 6: пока a > 0; 7: если a > 0 то 8: пока W 6= ? 9: W := W ? {a}; 10: иначе если a = 0 то 11: цикл //бесконечный 12: когда-нибудь выход; 13: иначе //при a < 0 14: a := 1; \def\algorithmicrequire{\textbf{Вход:}} \def\algorithmicensure{\textbf{Выход:}} \def\algorithmicif{\textbf{если}} \def\algorithmicthen{\textbf{то}} \def\algorithmicelse{\textbf{иначе}} \def\algorithmicelsif{\textbf{иначе если}} \def\algorithmicfor{\textbf{для}} \def\algorithmicforall{\textbf{для всех}} \def\algorithmicdo{} \def\algorithmicwhile{\textbf{пока}} \def\algorithmicrepeat{\textbf{повторять}} \def\algorithmicuntil{\textbf{пока}} \def\algorithmicloop{\textbf{цикл}} % переопределение стиля комментариев \def\algorithmiccomment#1{\quad//{\sl #1}}
38 4.10 Библиография 188. Список литературы оформляется окружением thebibliography. Список литературы [1] Кнут Д. Всё про TEX. Протвино, RDTEX, 1993. [2] Львовский С.М. Набор и вёрстка в па- кете LATEX. М., Космосинформ, 1994. \begin{thebibliography}{0} \bibitem{knuth93texbook} Кнут~Д. Всё про \TeX. --- Протвино, RD\TeX, 1993. \bibitem{lvovsky94latex} Львовский~С.М. Набор и вёрстка в пакете~\LaTeX. --- М., Космосинформ, 1994. \end{thebibliography} 189. Для ссылок на литературу вместо \ref используют \cite. в книгах [1, 2], особенно в [2, с. 145] в книгах~\cite{knuth93texbook,lvovsky94latex}, особенно в~\cite[с.~145]{lvovsky94latex} 4.11 Сноски 190. Сноски. Сноски1 нумеруются автоматически или вручную7. 1Печатаются внизу страницы. 7Седьмая. Сноски\footnote{% Печатаются внизу страницы. }нумеруются автоматически или вручную\footnote[7]{Седьмая.}. 191. Пометки на полях. Ого! Теорема. 1 + 1 = 10. Теорема.\marginpar{Ого!} $1+1=10$. 4.12 Ссылки, счётчики и автоматическая нумерация 192. Место, на которое надо сослаться, отмечается меткой \label. Ссылки могут быть на всё, что нумеруется автоматически. См. подраздел 5.1. См. пункт перечня 2c. См. формулу (1). См. теорему 1 на стр. 21. См.~подраздел~\ref{secExample}. См.~пункт перечня~\ref{enCanRef}. См.~формулу~(\ref{Ax=b}). См.~теорему~\ref{thViet} на стр.~\pageref{thViet}. 193. Использование счётчиков для автоматической нумерации. \newcounter{MYc} \def\MYhyp{\addtocounter{MYc}{1}\par{\bf Гипотеза \arabic{MYc}:\\}} Гипотеза 1: Разделы и формулы нумеруются с помо- щью счётчиков. Гипотеза 2: Нумеровать можно не только формулы, но и что угодно. \MYhyp Разделы и формулы нумеруются с~помощью счётчиков. \MYhyp Нумеровать можно не только формулы, но и что угодно.
39 194. Установка и вывод значения счётчика. Команды \asbuk и \Asbuk определяются при под- ключении пакета \usepackage[russian]{babel}. Арабским числом: 23 Римским числом: xxiii, XXIII БУКВОЙ: W, Ч буквой: w, ч \setcounter{MYc}{23} Арабским числом: \arabic{MYc} Римским числом: \roman{MYc}, \Roman{MYc} БУКВОЙ: \Alph{MYc}, \Asbuk{MYc} буквой: \alph{MYc}, \asbuk{MYc} 195. Определение счётчика \MYsub, подчинённого счётчику \MYc. \newcounter{MYsub}[MYc] \def\theMYsub{\arabic{MYc}.\arabic{MYsub}} Команда \thehимя счётчикаi используется внутри команды \ref для генерации ссылки. Ко- манда \refstepcounter увеличивает счётчик на 1 и обнуляет все подчинённые ему. 23.0 23.1 24.0 \theMYsub \refstepcounter{MYsub}\theMYsub \label{MYcount} \refstepcounter{MYc}\theMYsub 196. Генерация ссылки. Когда мы вставили пометку MYcount, счётчик был равен 23.1. Когда мы вставили пометку \verb'MYcount', счётчик был равен~\ref{MYcount}. 197. Некоторые стандартные счётчики и их текущие значения. section = 4 subsection = 4.12 subsubsection = 4.12.0 paragraph = 4.12.0.0 Страница, page = 39 Сноска, footnote = 0 Формула, equation = 9 section = \thesection subsection = \thesubsection subsubsection = \thesubsubsection paragraph = \theparagraph Страница, page = \thepage Сноска, footnote = \thefootnote Формула, equation = \theequation 198. Переподчинение счётчиков. Теперь нумерация формул будет начинаться заново в каж- дом разделе. \@addtoreset{equation}{section} % ТОЛЬКО В СТИЛЕВОМ ФАЙЛЕ ! Сравним с формулой (1) Ax = b (4.1) Сравним с формулой~(\ref{Ax=b}) \begin{equation} Ax=b \end{equation} 4.13 Определение собственных макрокоманд 199. Команда \TeX рисует эмблему, изобретённую Д. Кнутом (команды \kern и \lower зада- ют смещения по горизонтали и вертикали, единицы длины em и ex пропорциональны шриф- ту):\def\TeX{T\kern-.1667em\lower.5ex\hbox{E}\kern -.125em X} TEX TEX \TeX \LARGE\TeX
40 200. Новая команда \MYvrule отмечает абзацы линией толщиной 2pt: \newlength{\MYwidth} % новый параметр длины \def\MYvrule#1\par{ \par\noindent \MYwidth=\textwidth\addtolength{\MYwidth}{-7pt} \hbox{\vrule width 2pt\hspace{5pt}\parbox[t]{\MYwidth}{#1}} } С помощью новой команды можно отме- чать важные абзацы линией слева. \MYvrule С~помощью новой команды можно отмечать важные абзацы линией слева. 201. Определение команд средствами LATEXа. \newcommand, в отличие от \def, выдаёт ошиб- ку, если команда с таким именем уже определена. \newcommand{\kw}[1]{\tt #1} % [1] - число аргументов \newcommand{\df}[1]{$\langle\mbox{\small\it #1\/}\rangle$} hIFi ::= IF hуслi THEN hблокi \df{IF} ::= \kw{IF} \df{усл} \kw{THEN} \df{блок}
41 5 Набор графики 5.1 Вставка изображений 202. Команда \includegraphics из пакета \usepackage{graphicx}. Вставляемая картинка ведёт себя как один большой символ. Эмблема TEXа лев, пере- жёвывающий цепочки литер. Изображение вставлено из графического файла формата PostScript. Эмблема \TeX а~--- \includegraphics[height=16mm]{tex.eps} --- лев, пережёвывающий цепочки литер. Изображение вставлено из~графического файла формата PostScript. 203. Плавающие иллюстрации автоматически размещаются там, где для них хватает ме- ста. Необязательный параметр [bh] задаёт приоритетный список рекомендуемых способов размещения: h в данном месте; t вверху страницы; b внизу страницы; p на плава- ющей странице; H только в данном месте. Рисунок 1 может оказаться на те- кущей или следующей странице. \begin{figure}[bh] \noindent\centering{ \includegraphics[width=120mm]{curves.eps} }\caption{Ступенчатая функция потерь} \label{figCurves} \end{figure} -5 -4 -3 -2 -1 0 1 2 3 4 5 0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 E L S Рис. 1: Ступенчатая функция потерь
42 -5 -4 -3 -2 -1 0 1 2 3 4 5 0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 E L S Рис. 2: Левый рисунок -5 -4 -3 -2 -1 0 1 2 3 4 5 0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 E L S Рис. 3: Правый рисунок 204. Вставка двух иллюстраций рядом. Рисунки 2 и 3 могут оказаться на текущей или следующей странице. \begin{figure}[t] \begin{multicols}{2} \hfill \includegraphics[width=70mm]{curves.eps} \hfill \caption{Левый рисунок} \label{figLeft} \hfill \includegraphics[width=70mm]{curves.eps} \hfill \caption{Правый рисунок} \label{figRight} \end{multicols} \end{figure} 205. Размещение картинки рядом с текстом с помощью команды \parbox. Параметры команды parbox: [b] выравнивание боксов по нижней кромке; [3cm] высота боксов; [t] вертикальное выравнивание внутри бокса кверху. Недостаток приходится подбирать высо- ту боксов вручную. \noindent \parbox[b][3cm][t]{10mm}{ \includegraphics[height=12mm]{tex.eps}} \hfill \parbox[b][3cm][t]{60mm}{ Параметры команды parbox: [b]~--- выравнивание боксов по~нижней кромке; [3cm]~--- высота боксов; [t]~--- вертикальное выравнивание внутри бокса кверху.} Недостаток~--- приходится подбирать высоту боксов вручную.
43 206. Узкие плавающие иллюстрации ?в оборку? производятся с помощью окружения floatingfigure из пакета \usepackage{floatflt}. Это окружение нельзя Рис. 4: TEX использовать в режиме twocolumn, сразу после заголовка раздела, ввер- ху страницы. Но можно использовать его внутри команды parbox и дру- гих окружений, например, multicols, что позволяет обойти указанные ограничения. Реко- мендуется вставлять такие рисунки чуть раньше начала обсуждения. \begin{floatingfigure}{21mm} \noindent \hfil \includegraphics[width=12mm]{tex.eps} \hfil \caption{\TeX} \label{figCurvesFF} \end{floatingfigure} Это окружение нельзя использовать в~режиме twocolumn, сразу после заголовка раздела, вверху страницы. Но~можно использовать его внутри команды parbox и~других окружений, например, multicols, что позволяет обойти указанные ограничения. Рекомендуется вставлять такие рисунки чуть раньше начала обсуждения.
44 6 Таблицы символов 207. Особые символы и буквы, употребляемые в текстовом режиме. : \dag : \ddag O \O OE \OE ? \AE ?A\AA AL \L : \S 
 \P o \o oe \oe ? \ae ?a \aa Al \l ? \pounds № \No 'c \copyright ? \i ? \j ? \ss 208. Дополнительные символы, подключаемые в пакете amssymb или amsmath. U \yen X \checkmark r \circledR m \maltese 209. Акценты, употребляемые в тексте (вместо ?е? можно подставить любую букву). `e \'e ?e \'e ?e \^e ?e \~e ?e \=e ?e \.e ?e \u{e} ?e \v{e} ?e \H{e} ?e \"e ?e \c{e} e.\d{e} e?\b{e} _oo \t oo 210. Акценты, употребляемые в математических формулах. ~a \vec a ?a \bar a ?a \hat a ?a \tilde a ?a \dot a ?a \ddot a ?a \acute a `a \grave a ?a \check a ?a \breve a 211. Строчные греческие буквы. ? \alpha ? \beta ? \gamma ? \delta o \epsilon ? \zeta ? \eta ? \theta ? \iota ? \kappa ? \lambda ? \mu ? \nu ? \xi o o ? \pi ? \rho ? \sigma ? \tau ? \upsilon ? \phi ? \chi ? \psi ? \omega ? \varepsilon ? \vartheta ? \varpi ? \varrho ? \varsigma ? \varphi 212. Прописные греческие буквы, остальные идентичны латинским. ? \Gamma ? \Delta ? \Theta ? \Lambda ? \Xi ? \Pi ? \Sigma ? \Upsilon ? \Phi ? \Psi - \Omega
45 213. Специальные знаки, имеющие в формулах статус букв, т. е. не являющиеся отношени- ями, операторами или скобками. ? \aleph ~ \hbar ? \imath ? \jmath ? \ell ? \wp ? \Re ? \Im ? \partial ? \infty ? \mho - - - \cdots ' \prime ? \emptyset ? \nabla v \surd ? \top ? \bot k \Vert ? \angle * \triangle \ \backslash ¤ \Box ...\vdots ? \forall ? \exists ! \neg . \flat . \natural . \sharp . \clubsuit . \diamondsuit . \heartsuit . \spadesuit . \Diamond . . . \ddots 214. Дополнительные символы, имеющие статус букв, из пакета amssymb или amsmath. ? \angle ? \measuredangle ? \sphericalangle ` \Finv a \Game ? \mho ? \nexists ? \varnothing s \circledS i \beth ? \gimel k \daleth ? \digamma ? \eth k \Bbbk ? \hslash ~ \hbar 8 \backprime ¤ \square ? \blacksquare . \lozenge ? \blacklozenge * \triangledown H \blacktriangledown N \blacktriangle ? \bigstar ? \complement 2P15. ?Большие? математические операторы. R \sum H \int Q \oint ` \prod \coprod V W \bigwedge T \bigvee S \bigcap F \bigcup \bigsqcup J N \bigodot L \bigotimes U \bigoplus \biguplus 216. Математические операции типа lim и max. max \max min \min sup \sup gcd \gcd Pr \Pr inf \inf lim \lim limsup \limsup liminf \liminf 217. Дополнительные математические операции, подключаемые в пакете amsmath. lim \varlimsup lim \varliminf lim ?> \varinjlim lim <? \varprojlim
46 218. Математические операторы, обозначающие элементарные функции. sin \sin cos \cos tan \tan sec \sec csc \csc cot \cot arg \arg sinh \sinh cosh \cosh tanh \tanh coth \coth exp \exp ker \ker dim \dim hom \hom arcsin \arcsin arccos \arccos arctan \arctan log \log lg \lg ln \ln deg \deg det \det 219. В русской традиции для некоторых элементарных функций приняты другие обозначения. Эти команды становятся доступны при подключении \usepackage[russian]babel. tg \tg ctg \ctg cth \cth sh \sh ch \ch th \th cosec \cosec arctg \arctg 220. Бинарные операции. + + ? - ± \pm ? \mp ? \times ? \div ? \ast ? \star ? \diamond * \circ ? \triangleleft ? \triangleright ? \oplus ? \ominus ? \otimes ? \oslash ? \odot ' \bigcirc : \dagger : \ddagger ?\wr : \bullet - \cdot : : \ \setminus //? \vee ? \wedge ? \cap ? \cup ? \uplus ? \sqcap ? \sqcup ? \amalg * \bigtriangleup * \bigtriangledown 221. Дополнительные бинарные операции, подключаемые в пакете amssymb или amsmath. ? \boxplus ? \boxminus ? \boxtimes ? \boxdot ? \ltimes ? \rtimes ? \Cup ? \Cap ? \dotplus ? \circleddash ? \circledast ? \circledcirc ? \leftthreetimes ? \rightthreetimes f \curlywedge g \curlyvee > \divideontimes ? \veebar ? \barwedge [ \doublebarwedge r \smallsetminus | \centerdot ? \intercal
47 222. Операторы отношения. < < ? \le ? \prec 1 \preceq ? \ll ? \subset ? \subseteq ? \sqsubset ? \sqsubseteq ? \in ? \smile | \mid ? \propto > > ? \ge ? \succ ? \succeq ? \gg ? \supset ? \supseteq ? \sqsupset ? \sqsupseteq ? \ni ? \frown k \parallel ? \perp = = ? \equiv ? \sim ? \simeq ? \approx ?= \cong .=\doteq ? \asymp ?? \bowtie ?? \Join ? \vdash ? \dashv |= \models 223. Дополнительные операторы отношения, подключаемые в пакете amssymb или amsmath. n \lll 6 \leqslant 0 \eqslantless ? \lessdot . \lesssim / \lessapprox ? \leqq ? \vartriangleleft E \trianglelefteq * \blacktriangleleft 4 \preccurlyeq 2 \curlyeqprec - \precsim w \precapprox ? \sqsubset ? \Lleftarrow j \subseteqq ? \Subset ? \lessgtr ? \gtrless o \ggg > \geqslant 1 \eqslantgtr ? \gtrdot & \gtrsim ' \gtrapprox ? \geqq ? \vartriangleright D \trianglerighteq * \blacktriangleright < \succcurlyeq 3 \curlyeqsucc % \succsim v \succapprox ? \sqsupset ? \Rrightarrow k \supseteqq ? \Supset ? \lesseqgtr R \gtreqless ? \multimap ? \circeq , \triangleq ? \eqcirc ? \thicksim ? \thickapprox ? \approxeq ? \backsim ? \backsimeq h \eqsim ` \smallsmile a \smallfrown + \doteqdot : \risingdotseq ; \fallingdotseq ? \bumpeq ? \Bumpeq ? \varpropto S \lesseqqgtr T \gtreqqless 224. Прочие операторы отношения, подключаемые в пакете amssymb или amsmath. p \shortmid q \shortparallel ? \pitchfork A \diagup A \diagdown ' \Vdash ± \Vvdash 2 \vDash ? \between A \backepsilon ? \therefore ? \because * \vartriangle
48 225. Операторы отношения с отрицанием. 6< \not< 6? \not\le 6? \not\prec 61 \not\preceq 6? \not\subset 6? \not\subseteq 6? \not\sqsubseteq 6> \not> 6? \not\ge 6? \not\succ 6? \not\succeq 6? \not\supset 6? \not\supseteq 6? \not\sqsupseteq 6= \not= 6? \not\equiv 6? \not\sim 6? \not\simeq 6? \not\approx 6?= \not\cong 6? \not\asymp 226. Дополнительные операторы отношения с отрицанием из пакета amssymb или amsmath. ! \lvertneqq ? \nleq ? \nless : \nprec c \lneqq - \nleqslant ? \lneq ± \npreceq 3 \precnsim u \lnsim - \nleqq 1 \precneqq " \precnapprox ? \lnapprox A \varsubsetneq " \nsubseteqq $ \subsetneqq & \varsubsetneqq ( \subsetneq * \nsubseteq ? \gvertneqq ¤ \ngeq ? \ngtr ? \nsucc ? \gneqq r \ngeqslant ' \gneq 2 \nsucceq ? \succnsim 
 \gnsim ? \ngeqq ? \succneqq ? \succnapprox ? \gnapprox ! \varsupsetneq # \nsupseteqq % \supsetneqq ' \varsupsetneqq ) \supsetneq + \nsupseteq ? \nsim ? \ncong ? \nparallel ? \nmid . \nshortmid / \nshortparallel 0 \nvdash 1 \nVdash 2 \nvDash 3 \nVDash 4 \ntrianglerighteq 5 \ntrianglelefteq ? \ntriangleleft ? \ntriangleright 8 \nleftarrow 9 \nrightarrow = \nleftrightarrow : \nLeftarrow ; \nRightarrow < \nLeftrightarrow 227. Разделительные скобки. ( ( [ [ { \{ h \langle ? \lfloor ? \lceil ^ \uparrow ? \Uparrow ) ) ] ] } \} i \rangle ? \rfloor ? \rceil v \downarrow ? \Downarrow | | k \| //\ \backslash l \updownarrow m \Updownarrow 228. Дополнительные скобки, подключаемые в пакете amssymb или amsmath. p \ulcorner q \urcorner x \llcorner y \lrcorner
49 229. Стрелки. ^ \uparrow ? \Uparrow v \downarrow ? \Downarrow l \updownarrow m \Updownarrow ? \nearrow ? \searrow ? \swarrow ? \nwarrow A \leadsto < \leftarrow ? \Leftarrow > \rightarrow ? \Rightarrow - \leftrightarrow ? \Leftrightarrow 7> \mapsto <? \hookleftarrow ? \leftharpoonup ? \leftharpoondown <? \longleftarrow ?= \Longleftarrow ?> \longrightarrow =? \Longrightarrow <> \longleftrightarrow ?? \Longleftrightarrow 7?> \longmapsto >? \hookrightarrow ? \rightharpoonup ? \rightharpoondown ? \rightleftharpoons 230. Дополнительные стрелки, подключаемые в пакете amssymb или amsmath. ? \leftleftarrows ? \rightrightarrows ? \leftrightarrows ? \rightleftarrows ? \rightleftharpoons ? \leftrightharpoons ? \twoheadrightarrow ? \twoheadleftarrow x \curvearrowleft y \curvearrowright ?\upuparrows ?\downdownarrows ? \upharpoonright ? \downharpoonright ? \upharpoonleft ? \downharpoonleft A \Lsh A \Rsh ? \circlearrowleft c \circlearrowright ? \rightarrowtail ? \leftarrowtail A \rightsquigarrow ! \leftrightsquigarrow " \looparrowleft # \looparrowright L99 \dashleftarrow 99K \dashrightarrow 231. Синонимы. 6= \ne, \neq, \not= ? \le, \leq ? \ge, \geq > \to, \rightarrow < \gets, \leftarrow ? \owns, \ni ? \land, \wedge ? \lor, \vee ! \lnot, \neg { \{, \lbrace } \}, \rbrace [ [, \lbrack ] ], \rbrack
50 7 Без примеров Стилевые опции 11pt или 12pt задаёт основной размер шрифта, по умолчанию 10pt. twoside ?двусторонняя? печать с разными полями на чётных и нечётных страницах (как в книгах). twocolumn печать в две колонки. titlepage для стиля article печать титульной страницы. draft черновая печать с пометкой строк, выбивающихся на поля. fleqn прижать все формулы влево. leqno нумерация формул слева. Разрывы страниц \newpage начать новую страницу. \clearpage вывести все оставшиеся плавающие таблицы (table) и иллюстрации (figure) и начать новую страницу. \cleardoublepage то же, но возможен пропуск пустой страницы для того, чтобы новая страница имела нечётный номер. \twocolumn[arg] начать новую страницу, напечатать текст arg в одну колонку, и пе- рейти в режим печати в две колонки. \onecolumn печать в одну колонку с новой страницы. \nopagebreak запретить разрыв страницы в этом месте. \samepage разрывать страницы только между абзацами. Стили страниц \flushbottom все страницы одинаковой высоты (как в книгах). \raggedbottom обратная \flushbottom, страницы не выравниваются по высоте. \pagestyle{arg} стиль страниц, где arg может принимать значения: arg = empty без колонтитулов и номеров страниц; arg = plain без колонтитулов, номера страниц внизу в центре; arg = headings колонтитулы генерируются автоматически; arg = myheadings колонтитулы задаются пользователем. \thispagestyle{arg} аналогично, но только для текущей страницы. \pagenumbering{arg} начинает счёт страниц заново и задаёт формат нумерации: arg = arabic арабскими цифрами (1,2,3); arg = Roman или roman римскими цифрами (I,II,III) или (i,ii,iii); arg = Alph или alph латинскими буквами (A,B,C) или (a,b,c); arg = Asbuk или asbuk русскими буквами (А,Б,В) или (а,б,в); \appendix начать приложения к документу. Колонтитулы и нумерация страниц Верхние и нижние колонтитулы можно изменять путём переопределения следующих четырёх команд в стилевом файле. Переопределять команды \@evenfoot и \@evenhead имеет смысл только при двусторонней печати (стилевая опция twoside). \def\@oddfoot{} пустой нижний колонтитул. \def\@evenfoot{} то же, только для чётных страниц. \def\@oddhead{\hfil\thepage} верхний колонтитул, номер страницы справа.
51 \def\@evenhead{\thepage\hfil} то же для чётных страниц, номер ставится слева. \def\@oddhead{ОТЧЕТ. Раздел \thesection\hfil\thepage} верхний колонтитул, со- держащий заголовок слева и номер справа. Единицы длины Если какой-либо числовой параметр по смыслу является длиной, то указывать еди- ницы измерения обязательно. Единицы измерения можно отделять от числа пробелом. Использование размеров см. в 153-165. in, дюйм (inch) 1in = 1 in = 1 in cm, сантиметр 1cm = 2.54 cm = 1 in cc, цицеро 1cc = 1 cc = 12 dd pc, пика (pica) 1pc = 1 pc = 12 pt mm, миллиметр 1mm = 10 mm = 1 cm dd, дидот-пункт 1dd = 1157 dd = 1238 pt bp, большой пункт 1bp = 72 bp = 1 in pt, пункт (point) 1pt = 72.27 pt = 1 in sp, scaled point 100000sp = 65536 sp = 1 pt ex, высота ?ex? 1ex = зависит от текущего шрифта em, ширина ?em? 1em = зависит от текущего шрифта Параметры страниц \textwidth=arg ширина текста, для А4 типично arg = 16 cm. \textheight=arg высота текста, для А4 типично arg = 24 cm. \oddsidemargin=arg отступ от левого края листа до текста, минус 1 дюйм. \evensidemargin=arg то же для страниц с чётными номерами, при односторонней пе- чати игнорируется. \topmargin=arg расстояние от верхнего края до верхнего колонтитула, минус 1 дюйм. \headheight=arg высота верхнего колонтитула. \headsep=arg расстояние от верхнего колонтитула до текста. \columnsep=arg расстояние между колонками при печати в две колонки. \columnseprule=arg ширина линейки между колонками, по умолчанию 0pt, т.е. линейки нет. \def\baselinestretch{arg} интервал между строками. Возможны любые значения, но обычно полагают arg ? {1, 1.5, 2}. Параметры абзацев \parindent=arg абзацный отступ. \parskip=arg интервал между абзацами. \leftskip=arg левое поле абзаца, по умолчанию 0pt. \rightskip=arg правое поле абзаца, по умолчанию 0pt. \tolerance=arg терпимость к жидким строкам, 0 ? arg ? 104. \hbadness=arg порог нормальности жидкой строки, обычно 1000. Работа с файлами \input filename вставить в этом месте содержимое файла filename. \endinput притворяется концом файла, всё дальнейшее будет проигнорировано.
52 8 Шаблон статьи В примере 1 был показан минимальный исходный текст. Теперь приведём шаблон типичной статьи, который заодно демонстрирует, как была набрана титульная страница данного документа. \documentclass[12pt]{article} \usepackage[cp1251]{inputenc} \usepackage[russian]{babel} \usepackage{amssymb,amsmath} \textheight=24cm % высота текста \textwidth=16cm % ширина текста \oddsidemargin=0pt % отступ от левого края \topmargin=-1.5cm % отступ от верхнего края \parindent=24pt % абзацный отступ \parskip=0pt % интервал между абзацами \tolerance=2000 % терпимость к "жидким" строкам \flushbottom % выравнивание высоты страниц %\def\baselinestretch{1.5} % печать с большим интервалом \title{\LaTeXe\ в примерах\thanks{% Титульная страница~--- тоже пример...}} \author{\copyright~~К. В. Воронцов} \date{30 мая 2005} \begin{document} \maketitle % вывести заголовок, автора, дату \thispagestyle{empty} % не нумеровать первую страницу \begin{abstract} % начало аннотации Это наглядное пособие ... \end{abstract} % конец аннотации \tableofcontents % сгенерировать оглавление \section{Введение} % первый раздел \input intro % вставить файл intro.tex \begin{thebibliography}{00} % библиография \bibitem{lvovsky94latex} Львовский~С.~М. Набор и вёрстка в пакете~\LaTeX.~--- М., Космосинформ, 1994. \bibitem{knuth93texbook} Кнут~Д. Всё про \TeX.~--- Протвино, RD\TeX, 1993. \end{thebibliography} \end{document}
Алфавитный указатель команд \+, 31, 32 \,, 6, 13, 14, 29 \-, 25, 27, 31, 32 \/, 6 \:, 13, 29 \;, 13, 23, 29 \=, 31, 32 \>, 31 \[, 4 \#, 4 \$, 4 \%, 4 \&, 4 &, 16-21, 32, 33 \_, 4 ?, 5, 6 "--*, 6 "---, 6 "-- , 6 "=, 27 \ , 4, 29 \!, 13, 14, 23, 29 \', 31 @<<<, 18 @>>>, 18 @AAA, 18 @VVV, 18 \@addtoreset, 39 \@listenumi, 29 \@listenumii, 29 \@listenumiii, 29 \@listenumiv, 29 \@listenumv, 29 \@listenumvi, 29 \\, 16-21, 26, 31-33 \{, 4 \}, 4 \], 4 -, 5, 32 --, 5, 32 ---, 5, 32 \abstractname, 35 \addcontentsline, 35 \addtocounter, 38 \addtolength, 40 algorithmic (пакет), 37 align (окружение), 19, 20 aligned (окружение), 17 \Alph, 39 \alph, 39 amscd (пакет), 18 amsmath (пакет), 9, 11 amssymb (пакет), 8 \appendixname, 35 \arabic, 38, 39 \arctan, 7 \arctg, 7 array (пакет), 33 \arrow, 18, 19 \Asbuk, 39 \asbuk, 20, 29, 39 \atop, 23 babel (пакет), 4, 6, 7, 27, 39 \bar, 9 \begin, 5 \begingroup, 22 \bf, 4, 22, 24, 38 \bfseries, 24 \bibitem, 38 \bibname, 35 \Big, 13 \big, 13 \bigcup, 13 \Bigg, 13 \bigg, 13 \Biggl, 12 \biggl, 12 \Biggm, 13 \biggm, 13 \Bigl, 12 \bigl, 12, 13 \Bigm, 13 \bigm, 13 \bigr, 13 \bigskip, 31 \binom, 11 53
54 \blacksquare, 22 bmatrix (окружение), 17 \bmod, 15 \bordermatrix, 17 \boxed, 10 bp (единица длины), 30, 51 \caption, 41-43 cases (окружение), 16 CD (окружение), 18 \cdot, 19, 20, 30 \cdots, 8 center (окружение), 26 \centering, 41 \centerline, 26 \cfrac, 12 \ch, 7 \chapter, 35 \chaptername, 35 \circ, 16 \cite, 38 \cline, 33 cm (единица длины), 30, 31, 33, 51 \colon, 14, 23 \color, 26 color (пакет), 26 \colorbox, 26 \columnsep (длина), 34 \columnseprule (длина), 34 \contentsname, 35 \cos, 14, 19 \cosec, 7 \cosh, 7 \cot, 7 \coth, 7 \cr, 17 \csc, 7 \ctg, 7 \cth, 7 \dbinom, 11 dd (единица длины), 30, 51 \ddddot, 9 \dddot, 9 \ddot, 9 \ddots, 17 \def, 15, 16, 22, 23, 30, 38-40 \definecolor, 26 \Delta, 14 description (окружение), 28 \dfrac, 11 diagram (окружение), 18, 19 \displaystyle, 10 document (окружение), 4 \documentclass, 4 \dot, 9 \dotfill, 26, 30 \dots, 5, 8-10, 16, 17, 21, 22, 31 \downbracefill, 30 \em, 6, 24 em (единица длины), 29, 30, 34, 39, 51 \emph, 6 \emptyset, 7 \end, 5 \endgroup, 22 \English, 27 enumerate (окружение), 28, 29 \epsilon, 7 \eqref, 20 equation (окружение), 19-21, 39 \equiv, 14, 15 ex (единица длины), 29, 30, 39, 51 \fbox, 4, 23, 25 \fboxrule (длина), 25 \fboxsep, 25 figure (окружение), 41, 42 \figurename, 35 floatflt (пакет), 43 floatingfigure (окружение), 43 flushleft (окружение), 26 \flushright, 27 flushright (окружение), 26 \footnote, 38 \footnotesize, 25 \forall, 17 \frac, 10-13, 15, 16, 23 \Gamma, 14 gather (окружение), 19, 20 \genfrac, 11 \geq, 7, 22 \geqslant, 7, 16, 22 graphicx (пакет), 41 \hangafter, 27 \hangindent (длина), 27
55 \hat, 5, 9, 16 \hbox, 26, 30, 39, 40 \hdotsfor, 17 height, 31 \hfil, 26, 43 \hfill, 22, 23, 26, 29, 34, 42 \hline, 32, 33 \href, 26 \hrule, 31 \hrulefill, 30 \hspace, 30, 40 \Huge, 25 \huge, 25 hyperref (пакет), 26 \idotsint, 15 \iiiint, 15 \iiint, 15 \iint, 15 \Im, 7 \in, 16 in (единица длины), 30, 51 \includegraphics, 41-43 \indexname, 35 \infty, 10, 16 \int, 14, 15 \intertext, 20 \it, 6, 24 \item, 28, 29 \itemindent (длина), 29 itemize (окружение), 28 \itemsep (длина), 29 \itshape, 6, 24 \kappa, 7 \kern, 39 \kill, 31, 32 \label, 19-21, 28, 35, 38, 41-43 \labelenumi, 29 \labelenumii, 29 \labelenumiii, 29 \labelenumiv, 29 \labelenumv, 29 \labelenumvi, 29 \labelsep (длина), 29 \labelwidth (длина), 29 \langle, 5, 12, 40 \LARGE, 25 \Large, 25 \large, 25 \ldots, 8 \le, 15 \leaders, 30 \left, 12, 17, 18, 23 \leftarrowfill, 30 \lefteqn, 10, 15 \leftmargin (длина), 29 \leq, 7, 22 \leqslant, 7, 22 \lim, 10, 15 \limits, 10, 15 list (окружение), 29 \listfigurename, 35 listing (окружение), 36 listingcont (окружение), 36 listinginput (окружение), 36 \listtablename, 35 \llap, 30 \ln, 14 \lower, 39 \lowercase, 25 \makeatletter, 22, 29 \marginpar, 38 \mathbb, 8 \mathbf, 8 \mathbin, 16 \mathcal, 8 \mathclose, 14 \mathfrak, 8, 16 \mathit, 8 \mathop, 7, 15 \mathopen, 14 \mathrel, 16 \mathrm, 8 mathrsfs (пакет), 8 \mathscr, 8 \mathsf, 8 \mathstrut, 9, 11 matrix (окружение), 17, 18 \max, 15 MaxMatrixCols (счётчик), 18 \mbox, 25, 40 \mdseries, 24 \medskip, 31 \medspace, 13
56 minipage (окружение), 34 mm (единица длины), 29, 30, 34, 51 \mod, 14 moreverb (пакет), 36 \mspace, 13 mu (единица длины), 13 multicol (пакет), 34 multicols (окружение), 34 \multicolumn, 32, 33 multline (окружение), 21 \ne, 15 \negmedspace, 13 \negthickspace, 13 \negthinspace, 13 \newcommand, 7, 22, 23, 40 \newcounter, 38, 39 \newenvironment, 22 \newlength, 40 \newtheorem, 21 \No, 5 \node, 18, 19 \noindent, 22, 27, 40-43 \nolimits, 15 \normalem, 25 \normalsize, 25 \notag, 19 \numberwithin, 20 \obeylines, 36 \obeyspaces, 36 \otimes, 16 \overbrace, 9, 10, 23 \overleftarrow, 9 \overleftrightarrow, 9 \overline, 9, 25 \overrightarrow, 9 \overset, 16 \pageref, 20, 38 \par, 22, 24-26, 31, 34, 38, 40 \paragraph, 35 \parallel, 14 \parbox, 26, 40, 42 \parindent (длина), 29 \parsep (длина), 29 \part, 35 \partial, 23 \partname, 35 pb-diagram (пакет), 18, 19 pc (единица длины), 30, 51 \phantom, 10 \phi, 7 pmatrix (окружение), 17 \pmod, 14, 15 \pod, 14 \prime, 15 \Prob, 7 \prod, 16 pt (единица длины), 29-31, 34, 40, 51 \qquad, 10, 13, 15, 16, 19, 20, 29, 32 \quad, 12, 13, 15, 17, 23, 29, 31, 32 quote (окружение), 5 \raggedright, 27 \raisebox, 25 \rangle, 5, 12, 40 \Re, 7 \ref, 20, 38, 39 \refname, 35 \refstepcounter, 39 \renewcommand, 20, 22, 29 \rho, 19 \right, 12, 17, 18, 23 \Rightarrow, 29 \rightarrowfill, 30 \rightmargin (длина), 29 \rlap, 30 \rm, 9, 15, 16, 24 \rmfamily, 24 \Roman, 39 \roman, 39 \rule, 30 \Russian, 27 \S, 5 \samepage, 22 \sc, 22, 24 \scriptscriptstyle, 10 \scriptsize, 25 \scriptstyle, 10, 22 \scshape, 24 \section, 35 section (счётчик), 20-22 \setcounter, 18, 39 \setlength, 25 \sf, 24
57 \sffamily, 24 \sh, 7 \sideset, 16 \sin, 14, 19 \sinh, 7 \sl, 22, 24 \slshape, 24 \small, 25 smallmatrix (окружение), 18 \smallskip, 31 \so, 7 \sout, 25 sp (единица длины), 30, 51 split (окружение), 21 \sqrt, 11, 14 \stackrel, 16 subequations (окружение), 20 \subparagraph, 35 \subsection, 35 \substack, 16 \subsubsection, 35 \sum, 15, 16 \sup, 10 tabbing (окружение), 31, 32 \tablename, 35 \tableofcontents, 35 tabular (окружение), 32, 33 \tag, 20 \tan, 7 \tanh, 7 \tbinom, 11 \TeX, 4, 5, 39, 41 \text, 7, 8, 12, 13, 15 \textbf, 24, 34 \textcolor, 26 \textit, 6, 24 \textmd, 24 \textrm, 24 \textsc, 24, 25 \textsf, 24 \textsl, 24 \textstyle, 10, 23 \texttt, 24 \textup, 24 \textwidth (длина), 30, 40 \tfrac, 11 \tg, 7 \th, 7 thebibliography (окружение), 38 \theenumi, 29 \theenumii, 29 \theenumiii, 29 \theenumiv, 29 \theenumv, 29 \theenumvi, 29 \theequation, 20 theequation (счётчик), 39 thefootnote (счётчик), 39 thepage (счётчик), 39 theparagraph (счётчик), 39 \theparentequation, 20 thesection (счётчик), 39 thesubsection (счётчик), 39 thesubsubsection (счётчик), 39 \theta, 16 \thickspace, 13 \thinspace, 13 \tilde, 9 \times, 16 \tiny, 25 \to, 14, 15, 29 to, 26, 30 \topsep (длина), 29 trivlist (окружение), 28 \tt, 24, 29, 36, 40 \ttfamily, 24 ulem (пакет), 25 \uline, 25 \underbrace, 9, 10, 23 \underleftarrow, 9 \underleftrightarrow, 9 \underline, 9, 25 \underrightarrow, 9 \underset, 16 \upbracefill, 30 \uppercase, 25 \upshape, 24 \url, 26 \usepackage, 4 \uwave, 25 \varepsilon, 7 \Variance, 7 \varkappa, 7 \varnothing, 7
58 \varphi, 7, 19, 23 \vdots, 17 \vec, 9 \verb, 29, 36, 39 verb, 33 verbatim (окружение), 36 Vmatrix (окружение), 17 vmatrix (окружение), 17 \vrule, 29, 40 \vskip, 31 \vspace, 31 \widehat, 9 \widetilde, 9 width, 31, 40 \xleftarrow, 16 \xout, 25 \xrightarrow, 16
59 Содержание 1 Введение 1 2 Основные правила 4 2.1 Особенности профессиональной полиграфии . . . . . . . . . . . . . . . . . . 5 2.2 Особенности русской полиграфии . . . . . . . . . . . . . . . . . . . . . . . . 6 3 Набор формул 8 3.1 Символы и шрифты . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8 3.2 Индексы, надстрочные и подстрочные знаки . . . . . . . . . . . . . . . . . . 8 3.3 Стили формул . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 3.4 Радикалы и дроби . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11 3.5 Скобки различного размера и начертания . . . . . . . . . . . . . . . . . . . 12 3.6 Тонкости с пробелами и промежутками . . . . . . . . . . . . . . . . . . . . . 13 3.7 Функции, операции и операторы . . . . . . . . . . . . . . . . . . . . . . . . . 14 3.8 Формулы над формулами . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 3.9 Матрицы . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17 3.10 Коммутативные диаграммы . . . . . . . . . . . . . . . . . . . . . . . . . . . 18 3.11 Нумерация и выравнивание многострочных формул . . . . . . . . . . . . . 19 3.12 Разбиение длинных формул . . . . . . . . . . . . . . . . . . . . . . . . . . . 21 3.13 Теоремы . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21 3.14 Определение новых команд . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22 4 Набор текста 24 4.1 Выделение текста . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24 4.2 Выравнивание текста . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26 4.3 Управление переносами слов . . . . . . . . . . . . . . . . . . . . . . . . . . . 27 4.4 Перечни . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28 4.5 Горизонтальные промежутки . . . . . . . . . . . . . . . . . . . . . . . . . . . 29 4.6 Вертикальные промежутки . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31 4.7 Таблицы . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31 4.8 Структура документа и оглавление . . . . . . . . . . . . . . . . . . . . . . . 35 4.9 Листинги, программы, алгоритмы . . . . . . . . . . . . . . . . . . . . . . . . 36 4.10 Библиография . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38 4.11 Сноски . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38 4.12 Ссылки, счётчики и автоматическая нумерация . . . . . . . . . . . . . . . . 38 4.13 Определение собственных макрокоманд . . . . . . . . . . . . . . . . . . . . 39 5 Набор графики 41 5.1 Вставка изображений . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41 6 Таблицы символов 44 7 Без примеров 50 8 Шаблон статьи 52